(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,i,n,s,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(i=this._events[e],isUndefined(i))return!1;if(isFunction(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(isObject(i))for(s=Array.prototype.slice.call(arguments,1),o=i.slice(),n=o.length,r=0;r<n;r++)o[r].apply(this,s);return!0},EventEmitter.prototype.addListener=function(e,t){var i;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(i=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},EventEmitter.prototype.removeListener=function(e,t){var i,n,s,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,n=-1,i===t||isFunction(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(i)){for(r=s;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){n=r;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],isFunction(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)};

},{}],2:[function(require,module,exports){
(function (global){
!function(t){"use strict";function r(t,r,e,o){var i=r&&r.prototype instanceof n?r:n,a=Object.create(i.prototype),c=new l(o||[]);return a._invoke=u(t,e,c),a}function e(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function c(r){function n(t,o,i,a){var c=e(r[t],r,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&g.call(h,"__await")?Promise.resolve(h.__await).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):Promise.resolve(h).then(function(t){u.value=t,i(u)},a)}a(c.arg)}function o(t,r){function e(){return new Promise(function(e,o){n(t,r,e,o)})}return i=i?i.then(e,e):e()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var i;this._invoke=o}function u(t,r,n){var o=j;return function(i,a){if(o===O)throw new Error("Generator is already running");if(o===k){if("throw"===i)throw a;return y()}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=h(c,n);if(u){if(u===G)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===j)throw o=k,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=O;var s=e(t,r,n);if("normal"===s.type){if(o=n.done?k:_,s.arg===G)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=k,n.method="throw",n.arg=s.arg)}}}function h(t,r){var n=t.iterator[r.method];if(n===d){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=d,h(t,r),"throw"===r.method))return G;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return G}var o=e(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,G;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=d),r.delegate=null,G):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,G)}function s(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function f(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function l(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(s,this),this.reset(!0)}function p(t){if(t){var r=t[w];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,n=function r(){for(;++e<t.length;)if(g.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=d,r.done=!0,r};return n.next=n}}return{next:y}}function y(){return{value:d,done:!0}}var d,v=Object.prototype,g=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},w=m.iterator||"@@iterator",L=m.asyncIterator||"@@asyncIterator",x=m.toStringTag||"@@toStringTag",b="object"==typeof module,E=t.regeneratorRuntime;if(E)return void(b&&(module.exports=E));E=t.regeneratorRuntime=b?module.exports:{},E.wrap=r;var j="suspendedStart",_="suspendedYield",O="executing",k="completed",G={},N={};N[w]=function(){return this};var P=Object.getPrototypeOf,S=P&&P(P(p([])));S&&S!==v&&g.call(S,w)&&(N=S);var F=i.prototype=n.prototype=Object.create(N);o.prototype=F.constructor=i,i.constructor=o,i[x]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===o||"GeneratorFunction"===(r.displayName||r.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(F),t},E.awrap=function(t){return{__await:t}},a(c.prototype),c.prototype[L]=function(){return this},E.AsyncIterator=c,E.async=function(t,e,n,o){var i=new c(r(t,e,n,o));return E.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},a(F),F[x]="Generator",F[w]=function(){return this},F.toString=function(){return"[object Generator]"},E.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},E.values=p,l.prototype={constructor:l,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(f),!t)for(var r in this)"t"===r.charAt(0)&&g.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=d)},stop:function(){this.done=!0;var t=this.tryEntries[0],r=t.completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(t){function r(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=d),!!n}if(this.done)throw t;for(var e=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),c=g.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&g.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,G):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),G},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),f(e),G}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;f(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:p(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=d),G}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],3:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Gzip=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"js/gzip-worker.js"))}return _inherits(t,e),_createClass(t,[{key:"compress",value:function(e){return this._requestResponse({data:e})}}]),t}(require("./worker-messenger"));module.exports=Gzip;

},{"./worker-messenger":34}],4:[function(require,module,exports){
"use strict";var loadScripts=require("./load-scripts"),polyfillsNeeded=[];window.Promise||polyfillsNeeded.push("js/promise-polyfill.js"),/(iPhone|iPad);/.test(navigator.userAgent)&&polyfillsNeeded.push("js/fastclick.js"),loadScripts(polyfillsNeeded,function(){require("regenerator-runtime/runtime"),require("./utils").trackFocusMethod(),new(require("./main-controller"))},function(){console.error("Failed to load polyfills")});

},{"./load-scripts":5,"./main-controller":6,"./utils":33,"regenerator-runtime/runtime":2}],5:[function(require,module,exports){
"use strict";module.exports=function(e,n,t){var r=e.length,o=!1;if(0==e.length)return n();e.forEach(function(e){var c=document.createElement("script");c.onload=function(){o||--r||n()},c.onerror=function(){o||(t(),o=!0)},c.src=e,document.head.insertBefore(c,document.head.firstChild)})};

},{}],6:[function(require,module,exports){
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),utils=require("./utils"),svgo=new(require("./svgo")),storage=require("../utils/storage"),SvgFile=require("./svg-file"),MainController=function(){function e(){var t=this;_classCallCheck(this,e),this._container=null,this._mainUi=null,this._outputUi=new(require("./ui/output")),this._downloadButtonUi=new(require("./ui/download-button")),this._copyButtonUi=new(require("./ui/copy-button")),this._bgFillUi=new(require("./ui/bg-fill")),this._resultsUi=new(require("./ui/results")),this._settingsUi=new(require("./ui/settings")),this._mainMenuUi=new(require("./ui/main-menu")),this._toastsUi=new(require("./ui/toasts")),this._dropUi=new(require("./ui/file-drop")),this._preloaderUi=new(require("./ui/preloader")),this._changelogUi=new(require("./ui/changelog"))(self.version),this._resultsContainerUi=new(require("./ui/results-container"))(this._resultsUi),this._viewTogglerUi=new(require("./ui/view-toggler")),this._settingsUi.on("change",function(e){return t._onSettingsChange()}),this._mainMenuUi.on("svgDataLoad",function(e){return t._onInputChange(e)}),this._dropUi.on("svgDataLoad",function(e){return t._onInputChange(e)}),this._mainMenuUi.on("error",function(e){var n=e.error;return t._handleError(n)}),this._viewTogglerUi.on("change",function(e){return t._onViewSelectionChange(e)}),this._inputFilename="image.svg",this._inputSvg=null,this._cache=new(require("./results-cache"))(10),this._latestCompressJobId=0,this._userHasInteracted=!1,this._reloading=!1,"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(e){e.addEventListener("updatefound",function(n){return t._onUpdateFound(e)})}),storage.get("last-seen-version").then(function(e){e&&t._changelogUi.showLogFrom(e),storage.set("last-seen-version",self.version)}),utils.domReady.then(function(e){t._container=document.querySelector(".app-output"),t._mainUi=new(require("./ui/main-ui"))(document.querySelector(".toolbar"),document.querySelector(".action-button-container"),t._outputUi.container,t._settingsUi.container);var n=document.querySelector(".action-button-container"),r=document.querySelector(".minor-action-container");r.appendChild(t._bgFillUi.container),document.queryCommandSupported&&document.queryCommandSupported("copy")&&r.appendChild(t._copyButtonUi.container),n.appendChild(t._downloadButtonUi.container),document.querySelector(".output").appendChild(t._outputUi.container),t._container.appendChild(t._toastsUi.container),t._container.appendChild(t._dropUi.container),document.querySelector(".menu-extra").appendChild(t._changelogUi.container),t._loadSettings(),t._preloaderUi.activated&&t._toastsUi.show("Ready now!",{duration:3e3})})}return _createClass(e,[{key:"_onViewSelectionChange",value:function(e){this._outputUi.set(e.value)}},{key:"_onUpdateFound",value:function(e){var t=this,n=e.installing;e.installing.addEventListener("statechange",function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._reloading){e.next=2;break}return e.abrupt("return");case 2:if("activated"!=n.state||navigator.serviceWorker.controller){e.next=5;break}return t._toastsUi.show("Ready to work offline",{duration:5e3}),e.abrupt("return");case 5:if("activated"!=n.state||!navigator.serviceWorker.controller){e.next=15;break}if(t._userHasInteracted){e.next=10;break}return t._reloading=!0,location.reload(),e.abrupt("return");case 10:return i=t._toastsUi.show("Update available",{buttons:["reload","dismiss"]}),e.next=13,i.answer;case 13:a=e.sent,"reload"==a&&(t._reloading=!0,location.reload());case 15:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())}},{key:"_onSettingsChange",value:function(){var e=this._settingsUi.getSettings();this._saveSettings(e),this._compressSvg(e)}},{key:"_onInputChange",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._settingsUi.getSettings(),this._userHasInteracted=!0,e.prev=2,e.next=5,svgo.load(t.data);case 5:this._inputSvg=e.sent,this._inputFilename=t.filename,e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(2),e.t0.message="Load failed: "+e.t0.message,this._mainMenuUi.stopSpinner(),this._handleError(e.t0),e.abrupt("return");case 15:this._cache.purge(),r=!0,i=function(){r&&(a._outputUi.reset(),a._mainUi.activate(),a._mainMenuUi.allowHide=!0,a._mainMenuUi.hide(),r=!1)},this._compressSvg(n,function(e){return i()}),r&&i();case 20:case"end":return e.stop()}},e,this,[[2,9]])}));return e}()},{key:"_handleError",value:function(e){this._toastsUi.show(e.message),console.error(e)}},{key:"_loadSettings",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,storage.get("settings");case 2:t=e.sent,t&&this._settingsUi.setSettings(t);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"_saveSettings",value:function(e){var t=Object.assign({},e);delete t.original,storage.set("settings",t)}},{key:"_compressSvg",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r,i,a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._latestCompressJobId=Math.random(),e.next=3,svgo.abortCurrent();case 3:if(n==this._latestCompressJobId){e.next=5;break}return e.abrupt("return");case 5:if(!t.original){e.next=8;break}return this._updateForFile(this._inputSvg,{gzip:t.gzip}),e.abrupt("return");case 8:if(!(r=this._cache.match(t.fingerprint))){e.next=12;break}return this._updateForFile(r,{compareToFile:this._inputSvg,gzip:t.gzip}),e.abrupt("return");case 12:return this._downloadButtonUi.working(),e.prev=13,e.next=16,svgo.process(t,function(e){o(e),a._updateForFile(e,{compareToFile:a._inputSvg,gzip:t.gzip})});case 16:i=e.sent,this._cache.add(t.fingerprint,i),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(13),"abort"!=e.t0.message&&(e.t0.message="Minifying error: "+e.t0.message,this._handleError(e.t0));case 23:this._downloadButtonUi.done();case 24:case"end":return e.stop()}},e,this,[[13,20]])}));return e}()},{key:"_updateForFile",value:function(){function e(e,n){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var r=n.compareToFile,i=n.gzip;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._outputUi.update(t),this._downloadButtonUi.setDownload(this._inputFilename,t),this._copyButtonUi.setSVG(t),e.t0=this._resultsUi,e.t1=r,!e.t1){e.next=9;break}return e.next=8,r.size({compress:i});case 8:e.t1=e.sent;case 9:return e.t2=e.t1,e.next=12,t.size({compress:i});case 12:e.t3=e.sent,e.t4={comparisonSize:e.t2,size:e.t3},e.t0.update.call(e.t0,e.t4);case 15:case"end":return e.stop()}},e,this)}));return e}()}]),e}();module.exports=MainController;

},{"../utils/storage":36,"./results-cache":8,"./svg-file":9,"./svgo":10,"./ui/bg-fill":11,"./ui/changelog":12,"./ui/copy-button":14,"./ui/download-button":15,"./ui/file-drop":18,"./ui/main-menu":19,"./ui/main-ui":20,"./ui/output":22,"./ui/preloader":24,"./ui/results":26,"./ui/results-container":25,"./ui/settings":28,"./ui/toasts":31,"./ui/view-toggler":32,"./utils":33}],7:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Prism=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"js/prism-worker.js"))}return _inherits(t,e),_createClass(t,[{key:"highlight",value:function(e){return this._requestResponse({data:e})}}]),t}(require("./worker-messenger"));module.exports=Prism;

},{"./worker-messenger":34}],8:[function(require,module,exports){
"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),ResultsCache=function(){function e(i){_classCallCheck(this,e),this._size=i,this.purge()}return _createClass(e,[{key:"purge",value:function(){this._fingerprints=[],this._files=[],this._index=0}},{key:"add",value:function(e,i){var t=this._files[this._index];t&&t.release(),this._fingerprints[this._index]=e,this._files[this._index]=i,this._index=(this._index+1)%this._size}},{key:"match",value:function(e){return this._files[this._fingerprints.indexOf(e)]}}]),e}();module.exports=ResultsCache;

},{}],9:[function(require,module,exports){
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,s){try{var u=t[i](s),o=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),gzip=new(require("./gzip")),SvgFile=function(){function e(t,r,n){_classCallCheck(this,e),this.text=t,this._compressedSize=null,this._url="",this._blob=null,this.width=r,this.height=n}return _createClass(e,[{key:"size",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r=t.compress;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",this.text.length);case 2:return this._compressedSize||(this._compressedSize=gzip.compress(this.text).then(function(e){return e.byteLength})),e.abrupt("return",this._compressedSize);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"_create",value:function(){this._blob=new Blob([this.text],{type:"image/svg+xml"}),this._url=URL.createObjectURL(this._blob)}},{key:"release",value:function(){this._url&&(this._blob=null,URL.revokeObjectURL(this._url))}},{key:"blob",get:function(){return this._blob||this._create(),this._blob}},{key:"url",get:function(){return this._url||this._create(),this._url}}]),e}();module.exports=SvgFile;

},{"./gzip":3}],10:[function(require,module,exports){
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,s){try{var i=t[o](s),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)});e(a)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),SvgFile=require("./svg-file"),Svgo=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"js/svgo-worker.js"));return e._multiPass=!1,e._abortOnNextItter=!1,e._currentJob=Promise.resolve(),e}return _inherits(t,e),_createClass(t,[{key:"load",value:function(e){return this._requestResponse({action:"load",data:e}).then(function(t){var r=t.width,n=t.height;return new SvgFile(e,r,n)})}},{key:"process",value:function(e,t){var r=this;return this._currentJob=this.abortCurrent().then(function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function n(o){var s,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r._abortOnNextItter=!1,n.next=3,r._requestResponse({action:"process",settings:e});case 3:if(s=n.sent,i=new SvgFile(s.data,s.dimensions.width,s.dimensions.height),t(i),!e.multipass){n.next=16;break}case 7:return n.next=9,r.nextPass();case 9:if(!(s=n.sent)){n.next=16;break}if(!r._abortOnNextItter){n.next=12;break}throw Error("abort");case 12:i=new SvgFile(s.data,s.dimensions.width,s.dimensions.height),t(i),n.next=7;break;case 16:return n.abrupt("return",i);case 17:case"end":return n.stop()}},n,r)}));return function(e){return n.apply(this,arguments)}}())}},{key:"nextPass",value:function(){return this._requestResponse({action:"nextPass"})}},{key:"abortCurrent",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._abortOnNextItter=!0,e.prev=1,e.next=4,this._currentJob;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,this,[[1,6]])}));return e}()}]),t}(require("./worker-messenger"));module.exports=Svgo;

},{"./svg-file":9,"./worker-messenger":34}],11:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),utils=require("../utils"),Ripple=require("./ripple"),BgFillButton=function(){function t(){var e=this;_classCallCheck(this,t),this.container=utils.strToEl('<div role="button" tabindex="0" class="fillAB minor-floating-action-button"><svg viewBox="0 0 24 24" class="icon"><title>Background Fill</title><path d="M21.143 9.667c-.733-1.392-1.914-3.05-3.617-4.753-2.977-2.978-5.478-3.914-6.785-3.914-.414 0-.708.094-.86.246l-1.361 1.36c-1.899-.236-3.42.106-4.294.983-.876.875-1.164 2.159-.792 3.523.492 1.806 2.305 4.049 5.905 5.375.038.323.157.638.405.885.588.588 1.535.586 2.121 0s.588-1.533.002-2.119c-.588-.587-1.537-.588-2.123-.001l-.17.256c-2.031-.765-3.395-1.828-4.232-2.9l3.879-3.875c.496 2.73 6.432 8.676 9.178 9.178l-7.115 7.107c-.234.153-2.798-.316-6.156-3.675-3.393-3.393-3.175-5.271-3.027-5.498l1.859-1.856c-.439-.359-.925-1.103-1.141-1.689l-2.134 2.131c-.445.446-.685 1.064-.685 1.82 0 1.634 1.121 3.915 3.713 6.506 2.764 2.764 5.58 4.243 7.432 4.243.648 0 1.18-.195 1.547-.562l8.086-8.078c.91.874-.778 3.538-.778 4.648 0 1.104.896 1.999 2 1.999 1.105 0 2-.896 2-2 0-3.184-1.425-6.81-2.857-9.34zm-16.209-5.371c.527-.53 1.471-.791 2.656-.761l-3.209 3.206c-.236-.978-.049-1.845.553-2.445zm9.292 4.079l-.03-.029c-1.292-1.292-3.803-4.356-3.096-5.063.715-.715 3.488 1.521 5.062 3.096.862.862 2.088 2.247 2.937 3.458-1.717-1.074-3.491-1.469-4.873-1.462z"/></svg></div>'),this._ripple=new Ripple,this.container.appendChild(this._ripple.container),this.container.addEventListener("click",function(t){return e._onClick(t)})}return _createClass(t,[{key:"_onClick",value:function(t){this.container.classList.contains("active")?(this.container.classList.remove("active"),this.setColor("transparent")):(this.container.classList.add("active"),this.setColor("#f444fe")),this._ripple.animate()}},{key:"setColor",value:function(t){document.documentElement.style.backgroundColor=t}}]),t}();module.exports=BgFillButton;

},{"../utils":33,"./ripple":27}],12:[function(require,module,exports){
"use strict";function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,i){try{var o=t[a](i),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_templateObject=_taggedTemplateLiteral(["<li>","</li>"],["<li>","</li>"]),utils=require("../utils"),Changelog=function(){function e(t){_classCallCheck(this,e),this.container=utils.strToEl('<section class="changelog"></section>'),this._loadedVersion=t}return _createClass(e,[{key:"showLogFrom",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!=this._loadedVersion){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,utils.get("changelog.json").then(JSON.parse);case 4:n=e.sent,r=0,a=0,i=0;case 8:if(!(i<n.length)){e.next=20;break}if(o=n[i],o.version!==this._loadedVersion){e.next=14;break}r=i,e.next=16;break;case 14:if(o.version!==t){e.next=16;break}return e.abrupt("break",20);case 16:a=i+1;case 17:i++,e.next=8;break;case 20:return s=n.slice(r,a).reduce(function(e,t){return e.concat(t.changes)},[]).map(function(e){return utils.escapeHtmlTag(_templateObject,e)}),this.container.appendChild(utils.strToEl("<h1>Updated!</h1>")),this.container.appendChild(utils.strToEl("<ul>"+s.join("")+"</ul>")),e.next=25,utils.domReady;case 25:utils.transitionToClass(this.container);case 26:case"end":return e.stop()}},e,this)}));return e}()}]),e}();module.exports=Changelog;

},{"../utils":33}],13:[function(require,module,exports){
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var u=t[i](o),c=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),utils=require("../utils"),prism=new(require("../prism")),CodeOutput=function(){function e(){_classCallCheck(this,e),this.container=utils.strToEl('<div class="code-output"><pre><code></code></pre></div>'),this._codeEl=this.container.querySelector("code")}return _createClass(e,[{key:"setSvg",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,prism.highlight(t.text);case 2:this._codeEl.innerHTML=e.sent;case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"reset",value:function(){this._codeEl.innerHTML=""}}]),e}();module.exports=CodeOutput;

},{"../prism":7,"../utils":33}],14:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),utils=require("../utils"),Ripple=require("./ripple"),CopyButton=function(){function e(){var t=this;_classCallCheck(this,e),this.container=utils.strToEl('<div role="button" tabindex="0" class="minor-floating-action-button"><svg viewBox="0 0 24 24" class="icon"><title>Copy</title><path d="M16 1H4C3 1 2 2 2 3v14h2V3h12V1zm3 4H8C7 5 6 6 6 7v14c0 1 1 2 2 2h11c1 0 2-1 2-2V7c0-1-1-2-2-2zm0 16H8V7h11v14z"/></svg></div>'),this._ripple=new Ripple,this.container.appendChild(this._ripple.container),this._svgFile=null,this._pre=document.createElement("pre"),this.container.addEventListener("click",function(e){return t._onClick(e)})}return _createClass(e,[{key:"_onClick",value:function(e){this._pre.textContent="![alt description]("+encodeURIComponent(this._svgFile.text).replace(/\(/g,"%28").replace(/\)/g,"%29")+")",document.body.appendChild(this._pre),getSelection().removeAllRanges();var t=document.createRange();t.selectNode(this._pre),window.getSelection().addRange(t),document.execCommand("copy"),getSelection().removeAllRanges(),document.body.removeChild(this._pre),this._ripple.animate()}},{key:"setSVG",value:function(e){this._svgFile=e}}]),e}();module.exports=CopyButton;

},{"../utils":33,"./ripple":27}],15:[function(require,module,exports){
"use strict";function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),utils=require("../utils"),Spinner=require("./spinner"),DownloadButton=function(){function n(){var e=this;_classCallCheck(this,n),this.container=utils.strToEl('<a href="./" class="floating-action-button"><svg viewBox="0 0 24 24" class="icon"><title>Download output</title><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg></a>'),this._spinner=new Spinner,this.container.appendChild(this._spinner.container),this._svgFile=null,"msSaveBlob"in navigator&&this.container.addEventListener("click",function(n){n.preventDefault(),navigator.msSaveBlob(e._svgFile.blob,e.container.download)})}return _createClass(n,[{key:"setDownload",value:function(n,e){this.container.download=n,this.container.href=e.url,this._svgFile=e}},{key:"working",value:function(){this._spinner.show(500)}},{key:"done",value:function(){this._spinner.hide()}}]),n}();module.exports=DownloadButton;

},{"../utils":33,"./spinner":29}],16:[function(require,module,exports){
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,c){try{var i=t[o](c),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),utils=require("../utils"),CodeOutput=function(){function e(){_classCallCheck(this,e),this.container=utils.strToEl('<div class="code-output"><pre><code></code></pre></div>'),this._codeEl=this.container.querySelector("code")}return _createClass(e,[{key:"setSvg",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),this._codeEl.innerHTML="![alt description]("+encodeURIComponent(t.text).replace(/\(/g,"%28").replace(/\)/g,"%29")+")";case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"reset",value:function(){this._codeEl.innerHTML=""}}]),e}();module.exports=CodeOutput;

},{"../utils":33}],17:[function(require,module,exports){
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),c=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function viewBox(e){var t=/<svg .*?viewBox=["'](-?[\d\.]+[, ]+-?[\d\.]+[, ][\d\.]+[, ][\d\.]+)["']/,n=e.match(t);return n&&n.length>=2?n[1]:null}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),utils=require("../utils"),CodeOutput=function(){function e(){_classCallCheck(this,e),this.container=utils.strToEl('<div class="code-output"><pre><code></code></pre></div>'),this._codeEl=this.container.querySelector("code")}return _createClass(e,[{key:"setSvg",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._codeEl.innerText="["+viewBox(t.text)+"] "+t.text.replace(/<svg.*?>/,"").replace(/\n/g,"").replace(/<\/svg.*?>/,"");case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"reset",value:function(){this._codeEl.innerHTML=""}}]),e}();module.exports=CodeOutput;

},{"../utils":33}],18:[function(require,module,exports){
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),utils=require("../utils"),FileDrop=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.container=utils.strToEl('<div class="drop-overlay">Drop it!</div>'),e._activeEnters=0,e._currentEnteredElement=null,utils.domReady.then(function(t){document.addEventListener("dragover",function(e){return e.preventDefault()}),document.addEventListener("dragenter",function(t){return e._onDragEnter(t)}),document.addEventListener("dragleave",function(t){return e._onDragLeave(t)}),document.addEventListener("drop",function(t){return e._onDrop(t)})}),e}return _inherits(t,e),_createClass(t,[{key:"_onDragEnter",value:function(e){this._currentEnteredElement!=e.target&&(this._currentEnteredElement=e.target,this._activeEnters++||utils.transitionToClass(this.container))}},{key:"_onDragLeave",value:function(e){this._currentEnteredElement=null,--this._activeEnters||utils.transitionFromClass(this.container)}},{key:"_onDrop",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this._activeEnters=0,utils.transitionFromClass(this.container),n=t.dataTransfer.files[0],e.t0=this,e.next=7,utils.readFileAsText(n);case 7:e.t1=e.sent,e.t2=n.name,e.t3={data:e.t1,filename:e.t2},e.t0.emit.call(e.t0,"svgDataLoad",e.t3);case 11:case"end":return e.stop()}},e,this)}));return e}()}]),t}(require("events").EventEmitter);module.exports=FileDrop;

},{"../utils":33,"events":1}],19:[function(require,module,exports){
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),utils=require("../utils"),Spinner=require("./spinner"),MainMenu=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.allowHide=!1,e._spinner=new Spinner,utils.domReady.then(function(t){e.container=document.querySelector(".main-menu"),e._selectFileInput=document.querySelector(".select-file-input"),e._pasteInput=document.querySelector(".paste-input"),e._loadDemoBtn=document.querySelector(".load-demo"),e._selectFileBtn=document.querySelector(".select-file"),e._pasteLabel=document.querySelector(".menu-input"),e._overlay=e.container.querySelector(".overlay"),e._menu=e.container.querySelector(".menu"),document.querySelector(".menu-btn").addEventListener("click",function(t){return e._onMenuButtonClick(t)}),e._overlay.addEventListener("click",function(t){return e._onOverlayClick(t)}),e._selectFileBtn.addEventListener("click",function(t){return e._onSelectFileClick(t)}),e._loadDemoBtn.addEventListener("click",function(t){return e._onLoadDemoClick(t)}),e._selectFileInput.addEventListener("change",function(t){return e._onFileInputChange(t)}),e._pasteInput.addEventListener("input",function(t){return e._onTextInputChange(t)})}),e}return _inherits(t,e),_createClass(t,[{key:"show",value:function(){this.container.classList.remove("hidden"),utils.transitionFromClass(this._overlay,"hidden"),utils.transitionFromClass(this._menu,"hidden")}},{key:"hide",value:function(){this.allowHide&&(this.stopSpinner(),this.container.classList.add("hidden"),utils.transitionToClass(this._overlay,"hidden"),utils.transitionToClass(this._menu,"hidden"))}},{key:"stopSpinner",value:function(){this._spinner.hide()}},{key:"_onOverlayClick",value:function(e){e.preventDefault(),this.hide()}},{key:"_onMenuButtonClick",value:function(e){e.preventDefault(),this.show()}},{key:"_onTextInputChange",value:function(e){var t=this._pasteInput.value.trim();-1!=t.indexOf("</svg>")&&(this._pasteInput.value="",this._pasteInput.blur(),this._pasteLabel.appendChild(this._spinner.container),this._spinner.show(),this.emit("svgDataLoad",{data:t,filename:"image.svg"}))}},{key:"_onSelectFileClick",value:function(e){e.preventDefault(),e.target.blur(),this._selectFileInput.click()}},{key:"_onFileInputChange",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._selectFileInput.files[0]){e.next=3;break}return e.abrupt("return");case 3:return this._selectFileBtn.appendChild(this._spinner.container),this._spinner.show(),e.t0=this,e.next=8,utils.readFileAsText(n);case 8:e.t1=e.sent,e.t2=n.name,e.t3={data:e.t1,filename:e.t2},e.t0.emit.call(e.t0,"svgDataLoad",e.t3);case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"_onLoadDemoClick",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.target.blur(),this._loadDemoBtn.appendChild(this._spinner.container),this._spinner.show(),e.prev=4,e.t0=this,e.next=8,utils.get("test-svgs/car-lite.svg");case 8:e.t1=e.sent,e.t2={data:e.t1,filename:"car.svg"},e.t0.emit.call(e.t0,"svgDataLoad",e.t2),e.next=18;break;case 13:e.prev=13,e.t3=e.catch(4),this.stopSpinner(),n="serviceWorker"in navigator&&navigator.serviceWorker.controller?Error("Demo not available offline"):Error("Couldn't fetch demo SVG"),this.emit("error",{error:n});case 18:case"end":return e.stop()}},e,this,[[4,13]])}));return e}()}]),t}(require("events").EventEmitter);module.exports=MainMenu;

},{"../utils":33,"./spinner":29,"events":1}],20:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),utils=require("../utils"),MainUi=function(){function t(){_classCallCheck(this,t),this._activated=!1;for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];this._toActivate=a}return _createClass(t,[{key:"activate",value:function(){if(!this._activated)return this._activated=!0,Promise.all(this._toActivate.map(function(t){return utils.transitionToClass(t)}))}}]),t}();module.exports=MainUi;

},{"../utils":33}],21:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),utils=require("../utils"),MaterialSlider=function(){function e(n){var t=this;_classCallCheck(this,e),this.container=utils.strToEl('\n      <div class="material-slider">\n        <div class="track">\n          <div class="track-on"></div>\n          <div class="handle">\n            <div class="arrow"></div>\n            <div class="val"></div>\n          </div>\n        </div>\n      </div>\n    '),this.range=n,this._handle=this.container.querySelector(".handle"),this._trackOn=this.container.querySelector(".track-on"),this._val=this.container.querySelector(".val"),n.parentNode.insertBefore(this.container,n),this.container.insertBefore(n,this.container.firstChild);var i=utils.isIe?"change":"input";n.addEventListener(i,function(e){return t._onInputChange(e)}),this.range.addEventListener("mousedown",function(e){return t._onRangeMouseDown(e)}),this.range.addEventListener("touchstart",function(e){return t._onRangeTouchStart(e)}),this.range.addEventListener("touchend",function(e){return t._onRangeTouchEnd(e)}),this._setPosition()}return _createClass(e,[{key:"_onRangeTouchStart",value:function(e){this.range.focus()}},{key:"_onRangeTouchEnd",value:function(e){this.range.blur()}},{key:"_onRangeMouseDown",value:function(e){var n=this;this.range.classList.add("active");var t=function e(t){requestAnimationFrame(function(e){n.range.blur()}),n.range.classList.remove("active"),document.removeEventListener("mouseup",e)};document.addEventListener("mouseup",t)}},{key:"_onInputChange",value:function(){this._update()}},{key:"_update",value:function(){var e=this;requestAnimationFrame(function(n){return e._setPosition()})}},{key:"_setPosition",value:function(){var e=this.range,n=e.min,t=e.max,i=e.value,a=(Number(i)-n)/(t-n);this._trackOn.style.width=this._handle.style.left=100*a+"%",this._val.textContent=i}},{key:"value",set:function(e){this.range.value=e,this._update()}}]),e}();module.exports=MaterialSlider;

},{"../utils":33}],22:[function(require,module,exports){
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(r,s){try{var u=t[r](s),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){i("next",e)},function(e){i("throw",e)});e(a)}return i("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),utils=require("../utils"),Output=function(){function e(){_classCallCheck(this,e),this.container=utils.strToEl('<div class="output-switcher"></div>'),this._types={image:new(require("./svg-output")),code:new(require("./code-output")),enki_code:new(require("./enki-code-output")),enki_topic_code:new(require("./enki-topic-code-output"))},this._svgFile=null,this._switchQueue=Promise.resolve(),this.set("image",{noAnimate:!0})}return _createClass(e,[{key:"update",value:function(e){return this._svgFile=e,this._types[this._activeType].setSvg(e)}},{key:"reset",value:function(){this._types[this._activeType].reset()}},{key:"set",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.noAnimate,r=void 0!==i&&i;return this._switchQueue=this._switchQueue.then(function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function n(i){var s,u,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t._activeType&&(s=t._types[t._activeType].container),t._activeType=e,u=t._types[t._activeType].container,t.container.appendChild(u),!t._svgFile){n.next=7;break}return n.next=7,t.update(t._svgFile);case 7:if(!r){n.next=12;break}u.classList.add("active"),s&&s.classList.remove("active"),n.next=16;break;case 12:return a=[utils.transitionToClass(u)],s&&a.push(utils.transitionFromClass(s)),n.next=16,Promise.all(a);case 16:s&&t.container.removeChild(s);case 17:case"end":return n.stop()}},n,t)}));return function(e){return n.apply(this,arguments)}}())}}]),e}();module.exports=Output;

},{"../utils":33,"./code-output":13,"./enki-code-output":16,"./enki-topic-code-output":17,"./svg-output":30}],23:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function getXY(t){return{x:t.pageX,y:t.pageY}}function touchDistance(t,e){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.sqrt(n*n+i*i)}function getMidpoint(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function getPoints(t){return t.touches?Array.prototype.map.call(t.touches,getXY):[getXY(t)]}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),utils=require("../utils"),PanZoom=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.eventArea,s=void 0===o?e:o,r=i.shouldCaptureFunc,a=void 0===r?function(t){return!0}:r;_classCallCheck(this,t),this._target=e,this._shouldCaptureFunc=a,this._dx=0,this._dy=0,this._scale=1,this._active=0,this._lastPoints=[],["_onPointerDown","_onPointerMove","_onPointerUp"].forEach(function(t){n[t]=n[t].bind(n)}),s.addEventListener("mousedown",this._onPointerDown),s.addEventListener("touchstart",this._onPointerDown),s.addEventListener("wheel",function(t){return n._onWheel(t)})}return _createClass(t,[{key:"reset",value:function(){this._dx=0,this._dy=0,this._scale=1,this._update()}},{key:"_onWheel",value:function(t){if(this._shouldCaptureFunc(t.target)){t.preventDefault();var e=this._target.getBoundingClientRect(),n=t.deltaY;1===t.deltaMode&&(n*=15),n=Math.max(Math.min(n,60),-60);var i=n/300+1;this._scale*i<.05||(this._scale*=i,this._dx-=(t.pageX-e.left)*(i-1),this._dy-=(t.pageY-e.top)*(i-1),this._update())}}},{key:"_onFirstPointerDown",value:function(t){document.addEventListener("mousemove",this._onPointerMove),document.addEventListener("mouseup",this._onPointerUp),document.addEventListener("touchmove",this._onPointerMove),document.addEventListener("touchend",this._onPointerUp)}},{key:"_onPointerDown",value:function(t){"mousedown"==t.type&&1!=t.which||this._shouldCaptureFunc(t.target)&&(t.preventDefault(),this._lastPoints=getPoints(t),1===++this._active&&this._onFirstPointerDown(t))}},{key:"_onPointerMove",value:function(t){t.preventDefault();var e=getPoints(t),n=e.reduce(getMidpoint),i=this._lastPoints.reduce(getMidpoint),o=this._target.getBoundingClientRect();if(this._dx+=n.x-i.x,this._dy+=n.y-i.y,e[1]){var s=touchDistance(e[0],e[1])/touchDistance(this._lastPoints[0],this._lastPoints[1]);this._scale*=s,this._dx-=(n.x-o.left)*(s-1),this._dy-=(n.y-o.top)*(s-1)}this._update(),this._lastPoints=e}},{key:"_update",value:function(){this._target.style.WebkitTransform=this._target.style.transform="translate3d("+this._dx+"px, "+this._dy+"px, 0) scale("+this._scale+")"}},{key:"_onPointerUp",value:function(t){if(t.preventDefault(),this._active--,this._lastPoints.pop(),this._active)return void(this._lastPoints=getPoints(t));document.removeEventListener("mousemove",this._onPointerMove),document.removeEventListener("mouseup",this._onPointerUp),document.removeEventListener("touchmove",this._onPointerMove),document.removeEventListener("touchend",this._onPointerUp)}}]),t}();module.exports=PanZoom;

},{"../utils":33}],24:[function(require,module,exports){
"use strict";function _asyncToGenerator(e){return function(){var n=e.apply(this,arguments);return new Promise(function(e,t){function r(a,i){try{var o=n[a](i),c=o.value}catch(e){return void t(e)}if(!o.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}return r("next")})}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),utils=require("../utils"),Preloader=function(){function e(){var n=this;_classCallCheck(this,e),utils.domReady.then(function(e){n.container=document.querySelector(".preloader"),n.activated=n.container.classList.contains("active"),n.hide()})}return _createClass(e,[{key:"hide",value:function(){function e(){return n.apply(this,arguments)}var n=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,utils.transitionFromClass(this.container,"active");case 2:this.container.style.display="none";case 3:case"end":return e.stop()}},e,this)}));return e}()}]),e}();module.exports=Preloader;

},{"../utils":33}],25:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),utils=require("../utils"),ResultsContainer=function(){function e(t){var n=this;_classCallCheck(this,e),this._results=t,utils.domReady.then(function(e){n._mobileContainer=document.querySelector(".results-container-mobile"),n._container=document.querySelector(".results-container"),n._query=matchMedia("(min-width: 640px)"),n._query.addListener(function(e){return n._positionResults()}),n._positionResults()})}return _createClass(e,[{key:"_positionResults",value:function(){this._query.matches?this._container.appendChild(this._results.container):this._mobileContainer.appendChild(this._results.container)}}]),e}();module.exports=ResultsContainer;

},{"../utils":33}],26:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function round(e,t){var n=Math.pow(10,t);return Math.floor(Math.round(e*n))/n}function humanSize(e){return e<1024?e+" bytes":round(e/1024,2)+"k"}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),utils=require("../utils"),Results=function(){function e(){_classCallCheck(this,e),this.container=utils.strToEl('<div class="results"><span class="size"></span><span class="diff"></span></div>'),this._sizeEl=this.container.querySelector(".size"),this._diffEl=this.container.querySelector(".diff")}return _createClass(e,[{key:"update",value:function(e){var t=e.size,n=e.comparisonSize;if(this._sizeEl.textContent=humanSize(t),!n)return void(this._diffEl.textContent="");this._diffEl.textContent=t==n?" - no change":t>n?" - "+round(t/n*100-100,2)+"% increase":" - "+round(100-t/n*100,2)+"% saving"}}]),e}();module.exports=Results;

},{"../utils":33}],27:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),utils=require("../utils"),Ripple=function(){function e(){_classCallCheck(this,e),this.container=utils.strToEl('<div class="ripple"></div>')}return _createClass(e,[{key:"animate",value:function(){this.container.classList.remove("animate"),this.container.offsetLeft,this.container.classList.add("animate")}}]),e}();module.exports=Ripple;

},{"../utils":33}],28:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),utils=require("../utils"),Slider=require("./material-slider"),Settings=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._throttleTimeout=null,utils.domReady.then(function(t){e._pluginInputs=utils.toArray(document.querySelectorAll(".settings .plugins input")),e._globalInputs=utils.toArray(document.querySelectorAll(".settings .global input")),e._sliderMap=new WeakMap,utils.toArray(document.querySelectorAll(".settings input[type=range]")).forEach(function(t){return e._sliderMap.set(t,new Slider(t))}),e.container=document.querySelector(".settings"),e._scroller=document.querySelector(".settings-scroller"),e.container.addEventListener("change",function(t){return e._onChange(t)}),e.container.addEventListener("input",function(t){return e._onChange(t)}),e._scroller.addEventListener("wheel",function(t){return e._onMouseWheel(t)}),e._scroller.addEventListener("mousedown",function(e){utils.closest(e.target,"input[type=range]")||e.preventDefault()})}),e}return _inherits(t,e),_createClass(t,[{key:"_onMouseWheel",value:function(e){e.deltaMode||(e.preventDefault(),e.currentTarget.scrollTop+=e.deltaY)}},{key:"_onChange",value:function(e){var t=this;(utils.isIe||"change"!=e.type||"range"!=e.target.type)&&(clearTimeout(this._throttleTimeout),"range"==e.target.type?this._throttleTimeout=setTimeout(function(e){return t.emit("change")},150):this.emit("change"))}},{key:"setSettings",value:function(e){var t=this;this._globalInputs.forEach(function(n){"checkbox"==n.type?n.checked=e[n.name]:"range"==n.type&&(t._sliderMap.get(n).value=e[n.name])}),this._pluginInputs.forEach(function(t){t.checked=e.plugins[t.name]})}},{key:"getSettings",value:function(){var e=[],t={plugins:{}};return this._globalInputs.forEach(function(n){"gzip"!=n.name&&"original"!=n.name&&("checkbox"==n.type?e.push(Number(n.checked)):e.push("|"+n.value+"|")),"checkbox"==n.type?t[n.name]=n.checked:t[n.name]=n.value}),this._pluginInputs.forEach(function(n){e.push(Number(n.checked)),t.plugins[n.name]=n.checked}),t.fingerprint=e.join(),t}}]),t}(require("events").EventEmitter);module.exports=Settings;

},{"../utils":33,"./material-slider":21,"events":1}],29:[function(require,module,exports){
"use strict";function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function i(i,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}return function(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}}(),utils=require("../utils"),Spinner=function(){function i(){var e=this;_classCallCheck(this,i),this.container=utils.strToEl('<div class="spinner"><div class="spinner-container"><div class="spinner-layer"><div class="circle-clipper left"><div class="circle"></div></div><div class="gap-patch"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div></div></div>'),this._showTimeout=null,this.container.style.display="none";var n=function(i){i.target==e.container&&(e.container.style.display="none")};this.container.addEventListener("webkitAnimationEnd",n),this.container.addEventListener("animationend",n)}return _createClass(i,[{key:"show",value:function(){var i=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;clearTimeout(this._showTimeout),this.container.style.display="none",this.container.classList.remove("cooldown"),this._showTimeout=setTimeout(function(e){i.container.style.display=""},e)}},{key:"hide",value:function(){clearTimeout(this._showTimeout),this.container.classList.add("cooldown")}}]),i}();module.exports=Spinner;

},{"../utils":33}],30:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),utils=require("../utils"),PanZoom=require("./pan-zoom"),SvgOutput=function(){function e(){var t=this;_classCallCheck(this,e);var n=utils.isIe?'<img class="svg-frame">':'<iframe class="svg-frame" sandbox="allow-scripts"></iframe>';this.container=utils.strToEl('<div class="svg-output"><div class="svg-container">'+n+'</div><div class="svg-clickjacker"></div></div>'),this._svgFrame=this.container.querySelector(".svg-frame"),this._svgFrame.scrolling="no",this._svgContainer=this.container.querySelector(".svg-container"),utils.domReady.then(function(e){t._panZoom=new PanZoom(t._svgContainer,{eventArea:t.container})})}return _createClass(e,[{key:"setSvg",value:function(e){var t=this._nextLoadPromise();return this._svgFrame.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(e.text),this._svgFrame.width=e.width,this._svgFrame.height=e.height,t}},{key:"reset",value:function(){this._svgFrame.src="about:blank",this._panZoom.reset()}},{key:"_nextLoadPromise",value:function(){var e=this;return new Promise(function(t){var n=function n(s){e._svgFrame.removeEventListener("load",n),t()};e._svgFrame.addEventListener("load",n)})}}]),e}();module.exports=SvgOutput;

},{"../utils":33,"./pan-zoom":23}],31:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),utils=require("../utils"),Toast=function(){function t(e,n,i){var s=this;_classCallCheck(this,t),this.container=utils.strToEl('<div class="toast"><div class="toast-content"></div></div>'),this._content=this.container.querySelector(".toast-content"),this._content.textContent=e,this._answerResolve,this._hideTimeout,this.answer=new Promise(function(t){return s._answerResolve=t}),i.forEach(function(t){var e=document.createElement("button");e.className="unbutton",e.textContent=t,e.addEventListener("click",function(e){s._answerResolve(t)}),s.container.appendChild(e)}),n&&(this._hideTimeout=setTimeout(function(t){return s.hide()},n))}return _createClass(t,[{key:"hide",value:function(){return clearTimeout(this._hideTimeout),this._answerResolve(),utils.transitionToClass(this.container,"hide")}}]),t}(),Toasts=function(){function t(){_classCallCheck(this,t),this.container=utils.strToEl("<div class='toasts'></div>")}return _createClass(t,[{key:"show",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.duration,s=void 0===i?0:i,o=n.buttons,r=void 0===o?["dismiss"]:o,a=new Toast(t,s,r);return this.container.appendChild(a.container),a.answer.then(function(t){return a.hide()}).then(function(t){e.container.removeChild(a.container)}),a}}]),t}();module.exports=Toasts;

},{"../utils":33}],32:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),utils=require("../utils"),ViewToggler=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.container=null,utils.domReady.then(function(t){e.container=document.querySelector(".view-toggler"),e.container.output[0].checked=!0,e.container.addEventListener("change",function(t){return e._onChange(t)})}),e}return _inherits(t,e),_createClass(t,[{key:"_onChange",value:function(e){var t=this.container.output.value;t||(t=utils.toArray(this.container.output).reduce(function(e,t){return e||(t.checked?t.value:"")},"")),this.emit("change",{value:t})}}]),t}(require("events").EventEmitter);module.exports=ViewToggler;

},{"../utils":33,"events":1}],33:[function(require,module,exports){
"use strict";function transitionClassFunc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.removeClass,n=void 0!==t&&t;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"transition";if(n){if(!e.classList.contains(t))return Promise.resolve()}else if(e.classList.contains(t))return Promise.resolve();return new Promise(function(o){var s=function t(n){n.target==e&&(e.removeEventListener("webkitTransitionEnd",t),e.removeEventListener("transitionend",t),e.classList.remove(r),o())};e.classList.add(r),requestAnimationFrame(function(r){e.addEventListener("webkitTransitionEnd",s),e.addEventListener("transitionend",s),e.classList[n?"remove":"add"](t)})})}}exports.toArray=function(e){return Array.prototype.slice.apply(e)},exports.domReady=new Promise(function(e){function t(){"loading"!=document.readyState&&e()}document.addEventListener("readystatechange",t),t()}),exports.get=function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){200==r.status?t(r.response):n(Error(r.statusText))},r.onerror=function(){n(Error("Network Error"))},r.send()})},exports.strToEl=function(){var e=document.createElement("div");return function(t){var n;for(e.innerHTML=t,n=e.children[0];e.firstChild;)e.removeChild(e.firstChild);return n}}();var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};exports.escapeHtml=function(e){return String(e).replace(/[&<>"'\/]/g,function(e){return entityMap[e]})},exports.escapeHtmlTag=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n=n.map(exports.escapeHtml),e.reduce(function(e,t,r){return e+=t+(n[r]||"")},"")},exports.readFileAsText=function(e){return new Promise(function(t,n){var r=new FileReader;r.readAsText(e),r.onerror=function(){n(r.error)},r.onload=function(){t(r.result)}})},exports.transitionToClass=transitionClassFunc(),exports.transitionFromClass=transitionClassFunc({removeClass:!0}),exports.closest=function(e,t){if(e.closest)return e.closest(t);var n=e.matches||e.msMatchesSelector;do{if(1==e.nodeType&&n.call(e,t))return e}while(e=e.parentNode)},exports.isIe=-1!==navigator.userAgent.indexOf("Trident/"),exports.loadCss=function(e){return new Promise(function(t,n){var r=document.createElement("link");r.rel="stylesheet",r.href=e,r.addEventListener("load",function(e){return t()}),r.addEventListener("error",function(e){return n()}),document.head.appendChild(r)})},exports.trackFocusMethod=function(){var e="mouse";document.body.addEventListener("focus",function(t){t.target.classList.add("key"==e?"key-focused":"mouse-focused")},!0),document.body.addEventListener("blur",function(e){e.target.classList.remove("key-focused"),e.target.classList.remove("mouse-focused")},!0),document.body.addEventListener("keydown",function(t){e="key"},!0),document.body.addEventListener("mousedown",function(t){e="mouse"},!0)};

},{}],34:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),WorkerMessenger=function(){function e(r){var n=this;_classCallCheck(this,e),this._requestId=0,this._worker=new Worker(r),this._pending={},this._worker.onmessage=function(e){return n._onMessage(e)}}return _createClass(e,[{key:"_onMessage",value:function(e){if(!e.data.id)return void console.log("Unexpected message",e);var r=this._pending[e.data.id];return r?(delete this._pending[e.data.id],e.data.error?void r[1](new Error(e.data.error)):void r[0](e.data.result)):void console.log("No resolver for",e)}},{key:"_requestResponse",value:function(e){var r=this,n=++this._requestId;return e.id=n,new Promise(function(t,o){r._pending[n]=[t,o],r._worker.postMessage(e)})}}]),e}();module.exports=WorkerMessenger;

},{}],35:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function promisifyRequest(e){return new Promise(function(t,n){function r(n){t(e.result),i()}function o(t){n(e.error),i()}function i(){e.removeEventListener("complete",r),e.removeEventListener("success",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)}e.addEventListener("complete",r),e.addEventListener("success",r),e.addEventListener("error",o),e.addEventListener("abort",o)})}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),IndexedDouchebag=function(){function e(t,n,r){_classCallCheck(this,e);var o=indexedDB.open(t,n);this.ready=promisifyRequest(o),o.onupgradeneeded=function(e){r(o.result,e.oldVersion)}}return _createClass(e,[{key:"transaction",value:function(e,t,n){return this.ready.then(function(r){var o="readonly";t.apply?n=t:t&&(o=t);var i,u=r.transaction(e,o),a=n(u,r),s=promisifyRequest(u);return a?(i=a[0]&&"result"in a[0]?Promise.all(a.map(promisifyRequest)):promisifyRequest(a),s.then(function(){return i})):s})}},{key:"get",value:function(e,t){return this.transaction(e,function(n){return n.objectStore(e).get(t)})}},{key:"put",value:function(e,t,n){return this.transaction(e,"readwrite",function(r){r.objectStore(e).put(n,t)})}},{key:"delete",value:function(e,t){return this.transaction(e,"readwrite",function(n){n.objectStore(e).delete(t)})}}]),e}();module.exports=IndexedDouchebag;

},{}],36:[function(require,module,exports){
"use strict";function getIdb(){return idb||(idb=new Idb("svgo-keyval",1,function(e){e.createObjectStore("keyval")})),idb}var Idb=require("./indexeddouchbag"),idb;self.indexedDB?module.exports={get:function(e){return getIdb().get("keyval",e)},set:function(e,t){return getIdb().put("keyval",e,t)},delete:function(e){return getIdb().delete("keyval",e)}}:module.exports={get:function(e){return Promise.resolve(localStorage.getItem(e))},set:function(e,t){return Promise.resolve(localStorage.setItem(e,t))},delete:function(e){return Promise.resolve(localStorage.removeItem(e))}};

},{"./indexeddouchbag":35}]},{},[4])

//# sourceMappingURL=page.js.map
