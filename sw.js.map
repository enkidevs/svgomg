{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/regenerator-runtime/runtime.js","src/changelog.json","src/js/sw/index.js","src/js/utils/indexeddouchbag.js","src/js/utils/storage.js"],"names":[],"mappings":"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hB,EAAO,MAChB,KAAK,KAAO,KAAK,IAAM,EAAO,IAC9B,KAAK,OAAS,SACd,KAAK,KAAO,OACa,WAAhB,EAAO,MAAqB,IACrC,KAAK,KAAO,GAGP,GAGT,OAAQ,SAAS,GACf,IAAK,GAAI,GAAI,KAAK,WAAW,OAAS,EAAG,GAAK,IAAK,EAAG,CACpD,GAAI,GAAQ,KAAK,WAAW,EAC5B,IAAI,EAAM,aAAe,EAGvB,MAFA,MAAK,SAAS,EAAM,WAAY,EAAM,UACtC,EAAc,GACP,IAKb,MAAS,SAAS,GAChB,IAAK,GAAI,GAAI,KAAK,WAAW,OAAS,EAAG,GAAK,IAAK,EAAG,CACpD,GAAI,GAAQ,KAAK,WAAW,EAC5B,IAAI,EAAM,SAAW,EAAQ,CAC3B,GAAI,GAAS,EAAM,UACnB,IAAoB,UAAhB,EAAO,KAAkB,CAC3B,GAAI,GAAS,EAAO,GACpB,GAAc,GAEhB,MAAO,IAMX,KAAM,IAAI,OAAM,0BAGlB,cAAe,SAAS,EAAU,EAAY,GAa5C,MAZA,MAAK,UACH,SAAU,EAAO,GACjB,WAAY,EACZ,QAAS,GAGS,SAAhB,KAAK,SAGP,KAAK,IAAM,GAGN,KAOO,gBAAX,QAAsB,OACX,gBAAX,QAAsB,OACb,gBAAT,MAAoB,KAAO;;;;;AC9tBpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;0YCnJA,QAAA,GAAiC,GAAjC,GAAA,GAAA,EAAA,CAAA,OAAA,oBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,IAAA,GAAA,MAAA,GAAA,KAAA,EACoB,OAAO,MAAM,EADjC,KAAA,GAAA,KACM,EADN,EAAA,MAAA,CAAA,EAAA,KAAA,CAAA,OAAA,MAAA,GAAA,OAAA,SAEoB,EAFpB,KAAA,GAAA,MAAA,GAAA,KAAA,EAGuB,MAAM,EAAQ,QAHrC,KAAA,GAAA,MAGM,GAHN,EAAA,KAAA,EAAA,KAAA,GAIwB,OAAO,KAAK,eAJpC,KAAA,IAAA,MAIM,GAJN,EAAA,KAKE,EAAU,IAAI,EAAS,EAAS,SALlC,EAAA,OAAA,SAMS,EANT,KAAA,IAAA,IAAA,MAAA,MAAA,GAAA,SAAA,EAAA,8DA1DA,SAAQ,8BAER,IAAI,SAAU,QAAQ,oBASlB,QAAU,QAAQ,wBAAwB,GAAG,QAC7C,YAAc,QAAQ,MAAM,KAAK,EAErC,MAAK,iBAAiB,UAAW,SAAS,GACxC,EAAM,UAAU,kBAAA,mBAAA,KAAC,QAAA,KAAA,GAAA,GAAA,EAAA,CAAA,OAAA,oBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,IAAA,GAAA,MACX,GAAuB,QAAQ,IAAI,kBADxB,EAAA,KAAA,EAEG,OAAO,KAAK,iBAAmB,YAFlC,KAAA,GAAA,MAEX,GAFW,EAAA,KAAA,EAAA,KAAA,EAGT,EAAM,QACV,KACA,gBACA,cACA,oBACA,aACA,qBACA,oBACA,iBACA,sEAZa,KAAA,GAAA,MAAA,GAAA,KAAA,EAeW,CAfX,KAAA,GAeX,EAfW,EAAA,KAiBV,GAAiB,EAAc,MAAM,KAAK,KAAO,QAAQ,MAAM,KAAK,IACvE,KAAK,aAlBQ,KAAA,IAAA,IAAA,MAAA,MAAA,GAAA,SAAA,EAAA,aAuBnB,IAAI,iBACF,iBAAmB,YAGrB,MAAK,iBAAiB,WAAY,SAAS,GACzC,EAAM,UAAU,kBAAA,mBAAA,KAAC,QAAA,KAAA,GAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,OAAA,oBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,IAAA,GAAA,MAAA,GAAA,KAAA,EAGQ,OAAO,MAHf,KAAA,GAGX,EAHW,EAAA,KAAA,GAAA,EAAA,GAAA,EAAA,MAAA,GAAA,EAAA,KAAA,EAAA,EAIO,EAJP,OAAA,WAAA,KAAA,GAAA,GAAA,GAAA,EAAA,EAAA,QAAA,KAAA,CAAA,EAAA,KAAA,EAAA,OAAA,GAIN,EAJM,EAAA,MAKR,WAAW,KAAK,GALR,CAAA,EAAA,KAAA,EAAA,OAAA,MAAA,GAAA,OAAA,WAAA,GAAA,KAAA,IAAA,IAM6B,GAAtC,eAAe,QAAQ,GANd,CAAA,EAAA,KAAA,EAAA,OAAA,MAAA,GAAA,KAAA,GAOL,OAAO,OAAO,EAPT,KAAA,IAAA,GAAA,EAAA,EAAA,KAAA,CAAA,MAAA,KAAA,IAAA,EAAA,KAAA,EAAA,MAAA,KAAA,IAAA,EAAA,KAAA,GAAA,EAAA,GAAA,EAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,EAAA,KAAA,IAAA,EAAA,KAAA,GAAA,EAAA,KAAA,IAAA,GAAA,EAAA,QAAA,EAAA,QAAA,KAAA,IAAA,GAAA,EAAA,KAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,OAAA,KAAA,EAAA,KAAA,IAAA,MAAA,GAAA,OAAA,GAAA,KAAA,IAAA,MAAA,GAAA,OAAA,GAAA,KAAA,IAAA,MAAA,GAAA,KAAA,GAWT,QAAQ,IAAI,iBAAkB,QAXrB,KAAA,IAAA,IAAA,MAAA,MAAA,GAAA,SAAA,EAAA,OAAA,EAAA,GAAA,GAAA,KAAA,GAAA,CAAA,GAAA,cAwBnB,KAAK,iBAAiB,QAAS,SAAS,GAGtB,qBAFN,GAAI,KAAI,EAAM,QAAQ,KAExB,KACN,EAAM,YAAY,kBAAkB,EAAM,UAG1C,EAAM,YACJ,OAAO,MAAM,EAAM,SAAS,KAAK,SAAA,GAAA,MAAK,IAAK,MAAM,EAAM;;;AC3E7D,yHAEA,QAAS,kBAAiB,GACxB,MAAO,IAAI,SAAQ,SAAS,EAAS,GACnC,QAAS,GAAU,GACjB,EAAQ,EAAI,QACZ,IAEF,QAAS,GAAQ,GACf,EAAO,EAAI,OACX,IAEF,QAAS,KACP,EAAI,oBAAoB,WAAY,GACpC,EAAI,oBAAoB,UAAW,GACnC,EAAI,oBAAoB,QAAS,GACjC,EAAI,oBAAoB,QAAS,GAEnC,EAAI,iBAAiB,WAAY,GACjC,EAAI,iBAAiB,UAAW,GAChC,EAAI,iBAAiB,QAAS,GAC9B,EAAI,iBAAiB,QAAS,yQAI5B,4BACJ,QAAA,GAAY,EAAM,EAAS,GAAiB,gBAAA,KAAA,EAC1C,IAAI,GAAU,UAAU,KAAK,EAAM,EACnC,MAAK,MAAQ,iBAAiB,GAC9B,EAAQ,gBAAkB,SAAS,GACjC,EAAgB,EAAQ,OAAQ,EAAM,sEAI9B,EAAQ,EAAgB,GAClC,MAAO,MAAK,MAAM,KAAK,SAAS,GAC9B,GAAI,GAAO,UAEP,GAAe,MACjB,EAAW,EAEJ,IACP,EAAO,EAGT,IAGI,GAHA,EAAK,EAAG,YAAY,EAAQ,GAC5B,EAAM,EAAS,EAAI,GACnB,EAAU,iBAAiB,EAG/B,OAAK,IAKH,EADE,EAAI,IAAM,UAAY,GAAI,GACd,QAAQ,IAAI,EAAI,IAAI,mBAGpB,iBAAiB,GAG1B,EAAQ,KAAK,WAClB,MAAO,MAXA,gCAgBT,EAAO,GACT,MAAO,MAAK,YAAY,EAAO,SAAS,GACtC,MAAO,GAAG,YAAY,GAAO,IAAI,iCAIjC,EAAO,EAAK,GACd,MAAO,MAAK,YAAY,EAAO,YAAa,SAAS,GACnD,EAAG,YAAY,GAAO,IAAI,EAAO,oCAI9B,EAAO,GACZ,MAAO,MAAK,YAAY,EAAO,YAAa,SAAS,GACnD,EAAG,YAAY,GAAO,OAAO,aAKnC,QAAO,QAAU;;;YClFjB,SAAS,UAMP,MALK,OACH,IAAM,GAAI,KAAI,cAAe,EAAG,SAAS,GACvC,EAAG,kBAAkB,aAGlB,IAVT,GAAI,KAAM,QAAQ,qBACd,GAYA,MAAK,UACP,OAAO,SACL,IAAK,SAAA,GAAA,MAAO,UAAS,IAAI,SAAU,IACnC,IAAK,SAAC,EAAK,GAAN,MAAc,UAAS,IAAI,SAAU,EAAK,IAC/C,OAAQ,SAAA,GAAA,MAAO,UAAS,OAAO,SAAU,KAI3C,OAAO,SACL,IAAK,SAAA,GAAA,MAAO,SAAQ,QAAQ,aAAa,QAAQ,KACjD,IAAK,SAAC,EAAK,GAAN,MAAc,SAAQ,QAAQ,aAAa,QAAQ,EAAK,KAC7D,OAAQ,SAAA,GAAA,MAAO,SAAQ,QAAQ,aAAa,WAAW","file":"sw.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof global.process === \"object\" && global.process.domain) {\n      invoke = global.process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n","module.exports=[\n  {\n    \"version\": \"1.9.1\",\n    \"changes\": [\n      \"Fixed bug if 'show original' setting was saved\"\n    ]\n  },\n  {\n    \"version\": \"1.9.0\",\n    \"changes\": [\n      \"Settings are now remembered (thanks Simon Knox)\",\n      \"Fixed drag & drop issue (thanks Simon Knox)\",\n      \"Improved keyboard interaction (thanks Ahmad Shadeed)\"\n    ]\n  },\n  {\n    \"version\": \"1.8.0\",\n    \"changes\": [\n      \"New icon (thanks to Anna Debenham)\"\n    ]\n  },\n  {\n    \"version\": \"1.7.0\",\n    \"changes\": [\n      \"Button to change background color (thanks to Una Kravets)\"\n    ]\n  },\n  {\n    \"version\": \"1.6.1\",\n    \"changes\": [\n      \"HTMLmin broke my stuff\"\n    ]\n  },\n  {\n    \"version\": \"1.6.0\",\n    \"changes\": [\n      \"Copy-to-clipboard button\"\n    ]\n  },\n  {\n    \"version\": \"1.5.1\",\n    \"changes\": [\n      \"Minor CSS change\"\n    ]\n  },\n  {\n    \"version\": \"1.5.0\",\n    \"changes\": [\n      \"Updating SVGO\"\n    ]\n  },\n  {\n    \"version\": \"1.4.3\",\n    \"changes\": [\n      \"Fixing layout in Chrome beta.\"\n    ]\n  },\n  {\n    \"version\": \"1.4.2\",\n    \"changes\": [\n      \"Better cache cleanup.\"\n    ]\n  },\n  {\n    \"version\": \"1.4.1\",\n    \"changes\": [\n      \"Fixes to 'remove hidden items'.\"\n    ]\n  },\n  {\n    \"version\": \"1.4.0\",\n    \"changes\": [\n      \"Updated to SVGO v0.5.1, bringing:\",\n      \"Remove useless defs option.\",\n      \"Round number in number lists.\",\n      \"And loads of fixes!\"\n    ]\n  },\n  {\n    \"version\": \"1.3.0\",\n    \"changes\": [\n      \"Using manifest spec for icons etc.\"\n    ]\n  },\n  {\n    \"version\": \"1.2.4\",\n    \"changes\": [\n      \"Download button now works in IE.\"\n    ]\n  },\n  {\n    \"version\": \"1.2.3\",\n    \"changes\": [\n      \"Fixing bug introduced by browserify.\"\n    ]\n  },\n  {\n    \"version\": \"1.2.2\",\n    \"changes\": [\n      \"Better font loading.\"\n    ]\n  },\n  {\n    \"version\": \"1.2.1\",\n    \"changes\": [\n      \"Lots of performance improvements.\"\n    ]\n  },\n  {\n    \"version\": \"1.2.0\",\n    \"changes\": [\n      \"Code view.\",\n      \"Prettify code option.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.7\",\n    \"changes\": [\n      \"Performance improvements.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.6\",\n    \"changes\": [\n      \"Fix zooming with mouse wheels.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.5\",\n    \"changes\": [\n      \"Removing erroneous scrollbars in Firefox.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.4\",\n    \"changes\": [\n      \"Fixed 'about' link.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.3\",\n    \"changes\": [\n      \"Reverting some painting stuff until I get a handle on the performance.\",\n      \"Using simpler demo SVG.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.2\",\n    \"changes\": [\n      \"Sharper rendering on desktop Chrome & Safari.\",\n      \"Fixed right mouse button issue.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.1\",\n    \"changes\": [\n      \"Reset zooming on image load.\"\n    ]\n  },\n  {\n    \"version\": \"1.1.0\",\n    \"changes\": [\n      \"Click/touch and drag panning.\",\n      \"Pinch zooming.\",\n      \"Wheel zooming.\"\n    ]\n  },\n  {\n    \"version\": \"1.0.4\",\n    \"changes\": [\n      \"Fixing checkered background in IE.\",\n      \"Improving slider touch interaction.\"\n    ]\n  },\n  {\n    \"version\": \"1.0.3\",\n    \"changes\": [\n      \"Fixing SVG output in Firefox.\"\n    ]\n  },\n  {\n    \"version\": \"1.0.2\",\n    \"changes\": [\n      \"Caching fonts for offline use.\",\n      \"Removing tap delay on iPhone/iPad.\",\n      \"Fixing iOS add-to-homescreen.\",\n      \"Better mobile demo image.\"\n    ]\n  },\n  {\n    \"version\": \"1.0.1\",\n    \"changes\": [\n      \"Layout fixes.\",\n      \"Better mobile keyboard handling.\",\n      \"A lighter demo SVG for mobile.\",\n      \"Fixing drag & drop.\"\n    ]\n  },\n  {\n    \"version\": \"1.0.0\",\n    \"changes\": [\n      \"First release.\"\n    ]\n  }\n]\n","require('regenerator-runtime/runtime');\n\nvar storage = require('../utils/storage');\n\n// TODO: use come kind of semver lib?\n// Pattern here is\n// a.b.c\n// a: version-isolated change, don't let both versions run together\n// b: new feature\n// c: bug fix\n// TODO: find a way to do this without bringing the whole log in\nvar version = require('../../changelog.json')[0].version;\nvar cacheVerion = version.split('.')[0];\n\nself.addEventListener('install', function(event) {\n  event.waitUntil((async function () {\n    var activeVersionPromise = storage.get('active-version');\n    var cache = await caches.open('svgomg-static-' + cacheVerion);\n    await cache.addAll([\n      './',\n      'imgs/icon.png',\n      'css/all.css',\n      'js/gzip-worker.js',\n      'js/page.js',\n      'js/prism-worker.js',\n      'js/svgo-worker.js',\n      'changelog.json',\n      'https://fonts.googleapis.com/css?family=Roboto:400,700|Inconsolata'\n    ]);\n\n    var activeVersion = await activeVersionPromise;\n\n    if (!activeVersion || activeVersion.split('.')[0] === version.split('.')[0]) {\n      self.skipWaiting();\n    }\n  })());\n});\n\nvar expectedCaches = [\n  'svgomg-static-' + cacheVerion,\n];\n\nself.addEventListener('activate', function(event) {\n  event.waitUntil((async function () {\n    // remove caches beginning \"svgomg-\" that aren't in\n    // expectedCaches\n    var cacheNames = await caches.keys();\n    for (var cacheName of cacheNames) {\n      if (!/^svgomg-/.test(cacheName)) continue;\n      if (expectedCaches.indexOf(cacheName) == -1) {\n        await caches.delete(cacheName);\n      }\n    }\n\n    await storage.set('active-version', version);\n  })());\n});\n\nasync function handleFontRequest(request) {\n  var match = await caches.match(request);\n  if (match) return match;\n  var response = await fetch(request.clone());\n  var fontCache = await caches.open('svgomg-fonts');\n  fontCache.put(request, response.clone());\n  return response;\n}\n\nself.addEventListener('fetch', function(event) {\n  var url = new URL(event.request.url);\n\n  if (url.host == 'fonts.gstatic.com') {\n    event.respondWith(handleFontRequest(event.request));\n  }\n  else {\n    event.respondWith(\n      caches.match(event.request).then(r => r || fetch(event.request))\n    );\n  }\n});\n","'use strict';\n\nfunction promisifyRequest(obj) {\n  return new Promise(function(resolve, reject) {\n    function onsuccess(event) {\n      resolve(obj.result);\n      unlisten();\n    }\n    function onerror(event) {\n      reject(obj.error);\n      unlisten();\n    }\n    function unlisten() {\n      obj.removeEventListener('complete', onsuccess);\n      obj.removeEventListener('success', onsuccess);\n      obj.removeEventListener('error', onerror);\n      obj.removeEventListener('abort', onerror);\n    }\n    obj.addEventListener('complete', onsuccess);\n    obj.addEventListener('success', onsuccess);\n    obj.addEventListener('error', onerror);\n    obj.addEventListener('abort', onerror);\n  });\n}\n\nclass IndexedDouchebag {\n  constructor(name, version, upgradeCallback) {\n    var request = indexedDB.open(name, version);\n    this.ready = promisifyRequest(request);\n    request.onupgradeneeded = function(event) {\n      upgradeCallback(request.result, event.oldVersion);\n    };\n  }\n\n  transaction(stores, modeOrCallback, callback) {\n    return this.ready.then(function(db) {\n      var mode = 'readonly';\n\n      if (modeOrCallback.apply) {\n        callback = modeOrCallback;\n      }\n      else if (modeOrCallback) {\n        mode = modeOrCallback;\n      }\n\n      var tx = db.transaction(stores, mode);\n      var val = callback(tx, db);\n      var promise = promisifyRequest(tx);\n      var readPromise;\n\n      if (!val) {\n        return promise;\n      }\n\n      if (val[0] && 'result' in val[0]) {\n        readPromise = Promise.all(val.map(promisifyRequest));\n      }\n      else {\n        readPromise = promisifyRequest(val);\n      }\n\n      return promise.then(function() {\n        return readPromise;\n      });\n    });\n  };\n\n  get(store, key) {\n    return this.transaction(store, function(tx) {\n      return tx.objectStore(store).get(key);\n    });\n  };\n\n  put(store, key, value) {\n    return this.transaction(store, 'readwrite', function(tx) {\n      tx.objectStore(store).put(value, key);\n    });\n  };\n\n  delete(store, key) {\n    return this.transaction(store, 'readwrite', function(tx) {\n      tx.objectStore(store).delete(key);\n    });\n  };\n}\n\nmodule.exports = IndexedDouchebag;","var Idb = require('./indexeddouchbag');\nvar idb;\n\n// avoid opening idb until first call\nfunction getIdb() {\n  if (!idb) {\n    idb = new Idb('svgo-keyval', 1, function(db) {\n      db.createObjectStore('keyval');\n    });\n  }\n  return idb;\n}\n\nif (self.indexedDB) {\n  module.exports = {\n    get: key => getIdb().get('keyval', key),\n    set: (key, val) => getIdb().put('keyval', key, val),\n    delete: key => getIdb().delete('keyval', key)\n  };\n}\nelse {\n  module.exports = {\n    get: key => Promise.resolve(localStorage.getItem(key)),\n    set: (key, val) => Promise.resolve(localStorage.setItem(key, val)),\n    delete: key => Promise.resolve(localStorage.removeItem(key))\n  };\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwic3JjL2NoYW5nZWxvZy5qc29uIiwic3JjL2pzL3N3L2luZGV4LmpzIiwic3JjL2pzL3V0aWxzL2luZGV4ZWRkb3VjaGJhZy5qcyIsInNyYy9qcy91dGlscy9zdG9yYWdlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztDQ1VDLFNBQVUsR0FDVCxZQTJCQSxTQUFTLEdBQUssRUFBUyxFQUFTLEVBQU0sR0FFcEMsR0FBSSxHQUFpQixHQUFXLEVBQVEsb0JBQXFCLEdBQVksRUFBVSxFQUMvRSxFQUFZLE9BQU8sT0FBTyxFQUFlLFdBQ3pDLEVBQVUsR0FBSSxHQUFRLE1BTTFCLE9BRkEsR0FBVSxRQUFVLEVBQWlCLEVBQVMsRUFBTSxHQUU3QyxFQWNULFFBQVMsR0FBUyxFQUFJLEVBQUssR0FDekIsSUFDRSxPQUFTLEtBQU0sU0FBVSxJQUFLLEVBQUcsS0FBSyxFQUFLLElBQzNDLE1BQU8sR0FDUCxPQUFTLEtBQU0sUUFBUyxJQUFLLElBaUJqQyxRQUFTLE1BQ1QsUUFBUyxNQUNULFFBQVMsTUE0QlQsUUFBUyxHQUFzQixJQUM1QixPQUFRLFFBQVMsVUFBVSxRQUFRLFNBQVMsR0FDM0MsRUFBVSxHQUFVLFNBQVMsR0FDM0IsTUFBTyxNQUFLLFFBQVEsRUFBUSxNQW9DbEMsUUFBUyxHQUFjLEdBQ3JCLFFBQVMsR0FBTyxFQUFRLEVBQUssRUFBUyxHQUNwQyxHQUFJLEdBQVMsRUFBUyxFQUFVLEdBQVMsRUFBVyxFQUNwRCxJQUFvQixVQUFoQixFQUFPLEtBRUosQ0FDTCxHQUFJLEdBQVMsRUFBTyxJQUNoQixFQUFRLEVBQU8sS0FDbkIsT0FBSSxJQUNpQixnQkFBVixJQUNQLEVBQU8sS0FBSyxFQUFPLFdBQ2QsUUFBUSxRQUFRLEVBQU0sU0FBUyxLQUFLLFNBQVMsR0FDbEQsRUFBTyxPQUFRLEVB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OzBZQ25KQSxRQUFBLEdBQWlDLEdBQWpDLEdBQUEsR0FBQSxFQUFBLENBQUEsT0FBQSxvQkFBQSxLQUFBLFNBQUEsR0FBQSxPQUFBLE9BQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxJQUFBLEdBQUEsTUFBQSxHQUFBLEtBQUEsRUFDb0IsT0FBTyxN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QUcsWUFBWSxFQUFRLEdBQzVCLEVBQU0sRUFBUyxFQUFJLEdBQ25CLEVBQVUsaUJBQWlCLEVBRy9CLE9BQUssSUFLSCxFQURFLEVBQUksSUFBTSxVQUFZLEdBQUksR0FDZCxRQUFRLElBQUksRUFBSSxJQUFJLG1CQUdwQixpQkFBaUIsR0FHMUIsRUFBUSxLQUFLLFdBQ2xCLE1BQU8sTUFYQSxnQ0FnQlQsRUFBTyxHQUNULE1BQU8sTUFBSyxZQUFZLEVBQU8sU0FBUyxHQUN0QyxNQUFPLEdBQUcsWUFBWSxHQUFPLElBQUksaUNBSWpDLEVBQU8sRUFBSyxHQUNkLE1BQU8sTUFBSyxZQUFZLEVBQU8sWUFBYSxTQUFTLEdBQ25ELEVBQUcsWUFBWSxHQUFPLElBQUksRUFBTyxvQ0FJOUIsRUFBTyxHQUNaLE1BQU8sTUFBSyxZQUFZLEVBQU8sWUFBYSxTQUFTLEdBQ25ELEVBQUcsWUFBWSxHQUFPLE9BQU8sYUFLbkMsUUFBTyxRQUFVOzs7WUNsRmpCLFNBQVMsVUFNUCxNQUxLLE9BQ0gsSUFBTSxHQUFJLEtBQUksY0FBZSxFQUFHLFNBQVMsR0FDdkMsRUFBRyxrQkFBa0IsYUFHbEIsSUFWVCxHQUFJLEtBQU0sUUFBUSxxQkFDZCxHQVlBLE1BQUssVUFDUCxPQUFPLFNBQ0wsSUFBSyxTQUFBLEdBQUEsTUFBTyxVQUFTLElBQUksU0FBVSxJQUNuQyxJQUFLLFNBQUMsRUFBSyxHQUFOLE1BQWMsVUFBUyxJQUFJLFNBQVUsRUFBSyxJQUMvQyxPQUFRLFNBQUEsR0FBQSxNQUFPLFVBQVMsT0FBTyxTQUFVLEtBSTNDLE9BQU8sU0FDTCxJQUFLLFNBQUEsR0FBQSxNQUFPLFNBQVEsUUFBUSxhQUFhLFFBQVEsS0FDakQsSUFBSyxTQUFDLEVBQUssR0FBTixNQUFjLFNBQVEsUUFBUSxhQUFhLFFBQVEsRUFBSyxLQUM3RCxPQUFRLFNBQUEsR0FBQSxNQUFPLFNBQVEsUUFBUSxhQUFhLFdBQVciLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogaHR0cHM6Ly9yYXcuZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9tYXN0ZXIvTElDRU5TRSBmaWxlLiBBblxuICogYWRkaXRpb25hbCBncmFudCBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluXG4gKiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuIShmdW5jdGlvbihnbG9iYWwpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICB2YXIgaW5Nb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiO1xuICB2YXIgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWU7XG4gIGlmIChydW50aW1lKSB7XG4gICAgaWYgKGluTW9kdWxlKSB7XG4gICAgICAvLyBJZiByZWdlbmVyYXRvclJ1bnRpbWUgaXMgZGVmaW5lZCBnbG9iYWxseSBhbmQgd2UncmUgaW4gYSBtb2R1bGUsXG4gICAgICAvLyBtYWtlIHRoZSBleHBvcnRzIG9iamVjdCBpZGVudGljYWwgdG8gcmVnZW5lcmF0b3JSdW50aW1lLlxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBydW50aW1lO1xuICAgIH1cbiAgICAvLyBEb24ndCBib3RoZXIgZXZhbHVhdGluZyB0aGUgcmVzdCBvZiB0aGlzIGZpbGUgaWYgdGhlIHJ1bnRpbWUgd2FzXG4gICAgLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIERlZmluZSB0aGUgcnVudGltZSBnbG9iYWxseSAoYXMgZXhwZWN0ZWQgYnkgZ2VuZXJhdGVkIGNvZGUpIGFzIGVpdGhlclxuICAvLyBtb2R1bGUuZXhwb3J0cyAoaWYgd2UncmUgaW4gYSBtb2R1bGUpIG9yIGEgbmV3LCBlbXB0eSBvYmplY3QuXG4gIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lID0gaW5Nb2R1bGUgPyBtb2R1bGUuZXhwb3J0cyA6IHt9O1xuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIHJ1bnRpbWUud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIEl0ZXJhdG9yUHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdwLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlW3RvU3RyaW5nVGFnU3ltYm9sXSA9XG4gICAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgcnVudGltZS5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBpZiAoISh0b1N0cmluZ1RhZ1N5bWJvbCBpbiBnZW5GdW4pKSB7XG4gICAgICAgIGdlbkZ1blt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIHJ1bnRpbWUuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgaG93ZXZlciwgdGhlXG4gICAgICAgICAgLy8gcmVzdWx0IGZvciB0aGlzIGl0ZXJhdGlvbiB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHNhbWVcbiAgICAgICAgICAvLyByZWFzb24uIE5vdGUgdGhhdCByZWplY3Rpb25zIG9mIHlpZWxkZWQgUHJvbWlzZXMgYXJlIG5vdFxuICAgICAgICAgIC8vIHRocm93biBiYWNrIGludG8gdGhlIGdlbmVyYXRvciBmdW5jdGlvbiwgYXMgaXMgdGhlIGNhc2VcbiAgICAgICAgICAvLyB3aGVuIGFuIGF3YWl0ZWQgUHJvbWlzZSBpcyByZWplY3RlZC4gVGhpcyBkaWZmZXJlbmNlIGluXG4gICAgICAgICAgLy8gYmVoYXZpb3IgYmV0d2VlbiB5aWVsZCBhbmQgYXdhaXQgaXMgaW1wb3J0YW50LCBiZWNhdXNlIGl0XG4gICAgICAgICAgLy8gYWxsb3dzIHRoZSBjb25zdW1lciB0byBkZWNpZGUgd2hhdCB0byBkbyB3aXRoIHRoZSB5aWVsZGVkXG4gICAgICAgICAgLy8gcmVqZWN0aW9uIChzd2FsbG93IGl0IGFuZCBjb250aW51ZSwgbWFudWFsbHkgLnRocm93IGl0IGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBnZW5lcmF0b3IsIGFiYW5kb24gaXRlcmF0aW9uLCB3aGF0ZXZlcikuIFdpdGhcbiAgICAgICAgICAvLyBhd2FpdCwgYnkgY29udHJhc3QsIHRoZXJlIGlzIG5vIG9wcG9ydHVuaXR5IHRvIGV4YW1pbmUgdGhlXG4gICAgICAgICAgLy8gcmVqZWN0aW9uIHJlYXNvbiBvdXRzaWRlIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIHNvIHRoZVxuICAgICAgICAgIC8vIG9ubHkgb3B0aW9uIGlzIHRvIHRocm93IGl0IGZyb20gdGhlIGF3YWl0IGV4cHJlc3Npb24sIGFuZFxuICAgICAgICAgIC8vIGxldCB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhbmRsZSB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBnbG9iYWwucHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiBnbG9iYWwucHJvY2Vzcy5kb21haW4pIHtcbiAgICAgIGludm9rZSA9IGdsb2JhbC5wcm9jZXNzLmRvbWFpbi5iaW5kKGludm9rZSk7XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9XG4gICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcbiAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xuICAgICAgICApIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuICBBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthc3luY0l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgcnVudGltZS5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgcnVudGltZS5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpXG4gICAgKTtcblxuICAgIHJldHVybiBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgR3BbdG9TdHJpbmdUYWdTeW1ib2xdID0gXCJHZW5lcmF0b3JcIjtcblxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG4gIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEdwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xuXG4gICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgIH1cblxuICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgIH1cblxuICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV07XG4gICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gIH1cblxuICBydW50aW1lLmtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7XG4gICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgcnVudGltZS52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcblxuICAgIHJlc2V0OiBmdW5jdGlvbihza2lwVGVtcFJlc2V0KSB7XG4gICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgdGhpcy5uZXh0ID0gMDtcbiAgICAgIC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuXG4gICAgICAgIGlmIChjYXVnaHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhISBjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcbiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJlxuICAgICAgICAgICh0eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxuICAgICAgICAgIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmXG4gICAgICAgICAgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcblxuICAgIGZpbmlzaDogZnVuY3Rpb24oZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbih0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24oaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcbn0pKFxuICAvLyBBbW9uZyB0aGUgdmFyaW91cyB0cmlja3MgZm9yIG9idGFpbmluZyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsXG4gIC8vIG9iamVjdCwgdGhpcyBzZWVtcyB0byBiZSB0aGUgbW9zdCByZWxpYWJsZSB0ZWNobmlxdWUgdGhhdCBkb2VzIG5vdFxuICAvLyB1c2UgaW5kaXJlY3QgZXZhbCAod2hpY2ggdmlvbGF0ZXMgQ29udGVudCBTZWN1cml0eSBQb2xpY3kpLlxuICB0eXBlb2YgZ2xvYmFsID09PSBcIm9iamVjdFwiID8gZ2xvYmFsIDpcbiAgdHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIiA/IHdpbmRvdyA6XG4gIHR5cGVvZiBzZWxmID09PSBcIm9iamVjdFwiID8gc2VsZiA6IHRoaXNcbik7XG4iLCJtb2R1bGUuZXhwb3J0cz1bXG4gIHtcbiAgICBcInZlcnNpb25cIjogXCIxLjkuMVwiLFxuICAgIFwiY2hhbmdlc1wiOiBbXG4gICAgICBcIkZpeGVkIGJ1ZyBpZiAnc2hvdyBvcmlnaW5hbCcgc2V0dGluZyB3YXMgc2F2ZWRcIlxuICAgIF1cbiAgfSxcbiAge1xuICAgIFwidmVyc2lvblwiOiBcIjEuOS4wXCIsXG4gICAgXCJjaGFuZ2VzXCI6IFtcbiAgICAgIFwiU2V0dGluZ3MgYXJlIG5vdyByZW1lbWJlcmVkICh0aGFua3MgU2ltb24gS25veClcIixcbiAgICAgIFwiRml4ZWQgZHJhZyAmIGRyb3AgaXNzdWUgKHRoYW5rcyBTaW1vbiBLbm94KVwiLFxuICAgICAgXCJJbXByb3ZlZCBrZXlib2FyZCBpbnRlcmFjdGlvbiAodGhhbmtzIEFobWFkIFNoYWRlZWQpXCJcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBcInZlcnNpb25cIjogXCIxLjguMFwiLFxuICAgIFwiY2hhbmdlc1wiOiBbXG4gICAgICBcIk5ldyBpY29uICh0aGFua3MgdG8gQW5uYSBEZWJlbmhhbSlcIlxuICAgIF1cbiAgfSxcbiAge1xuICAgIFwidmVyc2lvblwiOiBcIjEuNy4wXCIsXG4gICAgXCJjaGFuZ2VzXCI6IFtcbiAgICAgIFwiQnV0dG9uIHRvIGNoYW5nZSBiYWNrZ3JvdW5kIGNvbG9yICh0aGFua3MgdG8gVW5hIEtyYXZldHMpXCJcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBcInZlcnNpb25cIjogXCIxLjYuMVwiLFxuICAgIFwiY2hhbmdlc1wiOiBbXG4gICAgICBcIkhUTUxtaW4gYnJva2UgbXkgc3R1ZmZcIlxuICAgIF1cbiAgfSxcbiAge1xuICAgIFwidmVyc2lvblwiOiBcIjEuNi4wXCIsXG4gICAgXCJjaGFuZ2VzXCI6IFtcbiAgICAgIFwiQ29weS10by1jbGlwYm9hcmQgYnV0dG9uXCJcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBcInZlcnNpb25cIjogXCIxLjUuMVwiLFxuICAgIFwiY2hhbmdlc1wiOiBbXG4gICAgICBcIk1pbm9yIENTUyBjaGFuZ2VcIlxuICAgIF1cbiAgfSxcbiAge1xuICAgIFwidmVyc2lvblwiOiBcIjEuNS4wXCIsXG4gICAgXCJjaGFuZ2VzXCI6IFtcbiAgICAgIFwiVXBkYXRpbmcgU1ZHT1wiXG4gICAgXVxuICB9LFxuICB7XG4gICAgXCJ2ZXJzaW9uXCI6IFwiMS40LjNcIixcbiAgICBcImNoYW5nZXNcIjogW1xuICAgICAgXCJGaXhpbmcgbGF5b3V0IGluIENocm9tZSBiZXRhLlwiXG4gICAgXVxuICB9LFxuICB7XG4gICAgXCJ2ZXJzaW9uXCI6IFwiMS40LjJcIixcbiAgICBcImNoYW5nZXNcIjogW1xuICAgICAgXCJCZXR0ZXIgY2FjaGUgY2xlYW51cC5cIlxuICAgIF1cbiAgfSxcbiAge1xuICAgIFwidmVyc2lvblwiOiBcIjEuNC4xXCIsXG4gICAgXCJjaGFuZ2VzXCI6IFtcbiAgICAgIFwiRml4ZXMgdG8gJ3JlbW92ZSBoaWRkZW4gaXRlbXMnLlwiXG4gICAgXVxuICB9LFxuICB7XG4gICAgXCJ2ZXJzaW9uXCI6IFwiMS40LjBcIixcbiAgICBcImNoYW5nZXNcIjogW1xuICAgICAgXCJVcGRhdGVkIHRvIFNWR08gdjAuNS4xLCBicmluZ2luZzpcIixcbiAgICAgIFwiUmVtb3ZlIHVzZWxlc3MgZGVmcyBvcHRpb24uXCIsXG4gICAgICBcIlJvdW5kIG51bWJlciBpbiBudW1iZXIgbGlzdHMuXCIsXG4gICAgICBcIkFuZCBsb2FkcyBvZiBmaXhlcyFcIlxuICAgIF1cbiAgfSxcbiAge1xuICAgIFwidmVyc2lvblwiOiBcIjEuMy4wXCIsXG4gICAgXCJjaGFuZ2VzXCI6IFtcbiAgICAgIFwiVXNpbmcgbWFuaWZlc3Qgc3BlYyBmb3IgaWNvbnMgZXRjLlwiXG4gICAgXVxuICB9LFxuICB7XG4gICAgXCJ2ZXJzaW9uXCI6IFwiMS4yLjRcIixcbiAgICBcImNoYW5nZXNcIjogW1xuICAgICAgXCJEb3dubG9hZCBidXR0b24gbm93IHdvcmtzIGluIElFLlwiXG4gICAgXVxuICB9LFxuICB7XG4gICAgXCJ2ZXJzaW9uXCI6IFwiMS4yLjNcIixcbiAgICBcImNoYW5nZXNcIjogW1xuICAgICAgXCJGaXhpbmcgYnVnIGludHJvZHVjZWQgYnkgYnJvd3NlcmlmeS5cIlxuICAgIF1cbiAgfSxcbiAge1xuICAgIFwidmVyc2lvblwiOiBcIjEuMi4yXCIsXG4gICAgXCJjaGFuZ2VzXCI6IFtcbiAgICAgIFwiQmV0dGVyIGZvbnQgbG9hZGluZy5cIlxuICAgIF1cbiAgfSxcbiAge1xuICAgIFwidmVyc2lvblwiOiBcIjEuMi4xXCIsXG4gICAgXCJjaGFuZ2VzXCI6IFtcbiAgICAgIFwiTG90cyBvZiBwZXJmb3JtYW5jZSBpbXByb3ZlbWVudHMuXCJcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBcInZlcnNpb25cIjogXCIxLjIuMFwiLFxuICAgIFwiY2hhbmdlc1wiOiBbXG4gICAgICBcIkNvZGUgdmlldy5cIixcbiAgICAgIFwiUHJldHRpZnkgY29kZSBvcHRpb24uXCJcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBcInZlcnNpb25cIjogXCIxLjEuN1wiLFxuICAgIFwiY2hhbmdlc1wiOiBbXG4gICAgICBcIlBlcmZvcm1hbmNlIGltcHJvdmVtZW50cy5cIlxuICAgIF1cbiAgfSxcbiAge1xuICAgIFwidmVyc2lvblwiOiBcIjEuMS42XCIsXG4gICAgXCJjaGFuZ2VzXCI6IFtcbiAgICAgIFwiRml4IHpvb21pbmcgd2l0aCBtb3VzZSB3aGVlbHMuXCJcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBcInZlcnNpb25cIjogXCIxLjEuNVwiLFxuICAgIFwiY2hhbmdlc1wiOiBbXG4gICAgICBcIlJlbW92aW5nIGVycm9uZW91cyBzY3JvbGxiYXJzIGluIEZpcmVmb3guXCJcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBcInZlcnNpb25cIjogXCIxLjEuNFwiLFxuICAgIFwiY2hhbmdlc1wiOiBbXG4gICAgICBcIkZpeGVkICdhYm91dCcgbGluay5cIlxuICAgIF1cbiAgfSxcbiAge1xuICAgIFwidmVyc2lvblwiOiBcIjEuMS4zXCIsXG4gICAgXCJjaGFuZ2VzXCI6IFtcbiAgICAgIFwiUmV2ZXJ0aW5nIHNvbWUgcGFpbnRpbmcgc3R1ZmYgdW50aWwgSSBnZXQgYSBoYW5kbGUgb24gdGhlIHBlcmZvcm1hbmNlLlwiLFxuICAgICAgXCJVc2luZyBzaW1wbGVyIGRlbW8gU1ZHLlwiXG4gICAgXVxuICB9LFxuICB7XG4gICAgXCJ2ZXJzaW9uXCI6IFwiMS4xLjJcIixcbiAgICBcImNoYW5nZXNcIjogW1xuICAgICAgXCJTaGFycGVyIHJlbmRlcmluZyBvbiBkZXNrdG9wIENocm9tZSAmIFNhZmFyaS5cIixcbiAgICAgIFwiRml4ZWQgcmlnaHQgbW91c2UgYnV0dG9uIGlzc3VlLlwiXG4gICAgXVxuICB9LFxuICB7XG4gICAgXCJ2ZXJzaW9uXCI6IFwiMS4xLjFcIixcbiAgICBcImNoYW5nZXNcIjogW1xuICAgICAgXCJSZXNldCB6b29taW5nIG9uIGltYWdlIGxvYWQuXCJcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBcInZlcnNpb25cIjogXCIxLjEuMFwiLFxuICAgIFwiY2hhbmdlc1wiOiBbXG4gICAgICBcIkNsaWNrL3RvdWNoIGFuZCBkcmFnIHBhbm5pbmcuXCIsXG4gICAgICBcIlBpbmNoIHpvb21pbmcuXCIsXG4gICAgICBcIldoZWVsIHpvb21pbmcuXCJcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBcInZlcnNpb25cIjogXCIxLjAuNFwiLFxuICAgIFwiY2hhbmdlc1wiOiBbXG4gICAgICBcIkZpeGluZyBjaGVja2VyZWQgYmFja2dyb3VuZCBpbiBJRS5cIixcbiAgICAgIFwiSW1wcm92aW5nIHNsaWRlciB0b3VjaCBpbnRlcmFjdGlvbi5cIlxuICAgIF1cbiAgfSxcbiAge1xuICAgIFwidmVyc2lvblwiOiBcIjEuMC4zXCIsXG4gICAgXCJjaGFuZ2VzXCI6IFtcbiAgICAgIFwiRml4aW5nIFNWRyBvdXRwdXQgaW4gRmlyZWZveC5cIlxuICAgIF1cbiAgfSxcbiAge1xuICAgIFwidmVyc2lvblwiOiBcIjEuMC4yXCIsXG4gICAgXCJjaGFuZ2VzXCI6IFtcbiAgICAgIFwiQ2FjaGluZyBmb250cyBmb3Igb2ZmbGluZSB1c2UuXCIsXG4gICAgICBcIlJlbW92aW5nIHRhcCBkZWxheSBvbiBpUGhvbmUvaVBhZC5cIixcbiAgICAgIFwiRml4aW5nIGlPUyBhZGQtdG8taG9tZXNjcmVlbi5cIixcbiAgICAgIFwiQmV0dGVyIG1vYmlsZSBkZW1vIGltYWdlLlwiXG4gICAgXVxuICB9LFxuICB7XG4gICAgXCJ2ZXJzaW9uXCI6IFwiMS4wLjFcIixcbiAgICBcImNoYW5nZXNcIjogW1xuICAgICAgXCJMYXlvdXQgZml4ZXMuXCIsXG4gICAgICBcIkJldHRlciBtb2JpbGUga2V5Ym9hcmQgaGFuZGxpbmcuXCIsXG4gICAgICBcIkEgbGlnaHRlciBkZW1vIFNWRyBmb3IgbW9iaWxlLlwiLFxuICAgICAgXCJGaXhpbmcgZHJhZyAmIGRyb3AuXCJcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBcInZlcnNpb25cIjogXCIxLjAuMFwiLFxuICAgIFwiY2hhbmdlc1wiOiBbXG4gICAgICBcIkZpcnN0IHJlbGVhc2UuXCJcbiAgICBdXG4gIH1cbl1cbiIsInJlcXVpcmUoJ3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZScpO1xuXG52YXIgc3RvcmFnZSA9IHJlcXVpcmUoJy4uL3V0aWxzL3N0b3JhZ2UnKTtcblxuLy8gVE9ETzogdXNlIGNvbWUga2luZCBvZiBzZW12ZXIgbGliP1xuLy8gUGF0dGVybiBoZXJlIGlzXG4vLyBhLmIuY1xuLy8gYTogdmVyc2lvbi1pc29sYXRlZCBjaGFuZ2UsIGRvbid0IGxldCBib3RoIHZlcnNpb25zIHJ1biB0b2dldGhlclxuLy8gYjogbmV3IGZlYXR1cmVcbi8vIGM6IGJ1ZyBmaXhcbi8vIFRPRE86IGZpbmQgYSB3YXkgdG8gZG8gdGhpcyB3aXRob3V0IGJyaW5naW5nIHRoZSB3aG9sZSBsb2cgaW5cbnZhciB2ZXJzaW9uID0gcmVxdWlyZSgnLi4vLi4vY2hhbmdlbG9nLmpzb24nKVswXS52ZXJzaW9uO1xudmFyIGNhY2hlVmVyaW9uID0gdmVyc2lvbi5zcGxpdCgnLicpWzBdO1xuXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2luc3RhbGwnLCBmdW5jdGlvbihldmVudCkge1xuICBldmVudC53YWl0VW50aWwoKGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYWN0aXZlVmVyc2lvblByb21pc2UgPSBzdG9yYWdlLmdldCgnYWN0aXZlLXZlcnNpb24nKTtcbiAgICB2YXIgY2FjaGUgPSBhd2FpdCBjYWNoZXMub3Blbignc3Znb21nLXN0YXRpYy0nICsgY2FjaGVWZXJpb24pO1xuICAgIGF3YWl0IGNhY2hlLmFkZEFsbChbXG4gICAgICAnLi8nLFxuICAgICAgJ2ltZ3MvaWNvbi5wbmcnLFxuICAgICAgJ2Nzcy9hbGwuY3NzJyxcbiAgICAgICdqcy9nemlwLXdvcmtlci5qcycsXG4gICAgICAnanMvcGFnZS5qcycsXG4gICAgICAnanMvcHJpc20td29ya2VyLmpzJyxcbiAgICAgICdqcy9zdmdvLXdvcmtlci5qcycsXG4gICAgICAnY2hhbmdlbG9nLmpzb24nLFxuICAgICAgJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1Sb2JvdG86NDAwLDcwMHxJbmNvbnNvbGF0YSdcbiAgICBdKTtcblxuICAgIHZhciBhY3RpdmVWZXJzaW9uID0gYXdhaXQgYWN0aXZlVmVyc2lvblByb21pc2U7XG5cbiAgICBpZiAoIWFjdGl2ZVZlcnNpb24gfHwgYWN0aXZlVmVyc2lvbi5zcGxpdCgnLicpWzBdID09PSB2ZXJzaW9uLnNwbGl0KCcuJylbMF0pIHtcbiAgICAgIHNlbGYuc2tpcFdhaXRpbmcoKTtcbiAgICB9XG4gIH0pKCkpO1xufSk7XG5cbnZhciBleHBlY3RlZENhY2hlcyA9IFtcbiAgJ3N2Z29tZy1zdGF0aWMtJyArIGNhY2hlVmVyaW9uLFxuXTtcblxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gIGV2ZW50LndhaXRVbnRpbCgoYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIC8vIHJlbW92ZSBjYWNoZXMgYmVnaW5uaW5nIFwic3Znb21nLVwiIHRoYXQgYXJlbid0IGluXG4gICAgLy8gZXhwZWN0ZWRDYWNoZXNcbiAgICB2YXIgY2FjaGVOYW1lcyA9IGF3YWl0IGNhY2hlcy5rZXlzKCk7XG4gICAgZm9yICh2YXIgY2FjaGVOYW1lIG9mIGNhY2hlTmFtZXMpIHtcbiAgICAgIGlmICghL15zdmdvbWctLy50ZXN0KGNhY2hlTmFtZSkpIGNvbnRpbnVlO1xuICAgICAgaWYgKGV4cGVjdGVkQ2FjaGVzLmluZGV4T2YoY2FjaGVOYW1lKSA9PSAtMSkge1xuICAgICAgICBhd2FpdCBjYWNoZXMuZGVsZXRlKGNhY2hlTmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXdhaXQgc3RvcmFnZS5zZXQoJ2FjdGl2ZS12ZXJzaW9uJywgdmVyc2lvbik7XG4gIH0pKCkpO1xufSk7XG5cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUZvbnRSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgdmFyIG1hdGNoID0gYXdhaXQgY2FjaGVzLm1hdGNoKHJlcXVlc3QpO1xuICBpZiAobWF0Y2gpIHJldHVybiBtYXRjaDtcbiAgdmFyIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVxdWVzdC5jbG9uZSgpKTtcbiAgdmFyIGZvbnRDYWNoZSA9IGF3YWl0IGNhY2hlcy5vcGVuKCdzdmdvbWctZm9udHMnKTtcbiAgZm9udENhY2hlLnB1dChyZXF1ZXN0LCByZXNwb25zZS5jbG9uZSgpKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2ZldGNoJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgdmFyIHVybCA9IG5ldyBVUkwoZXZlbnQucmVxdWVzdC51cmwpO1xuXG4gIGlmICh1cmwuaG9zdCA9PSAnZm9udHMuZ3N0YXRpYy5jb20nKSB7XG4gICAgZXZlbnQucmVzcG9uZFdpdGgoaGFuZGxlRm9udFJlcXVlc3QoZXZlbnQucmVxdWVzdCkpO1xuICB9XG4gIGVsc2Uge1xuICAgIGV2ZW50LnJlc3BvbmRXaXRoKFxuICAgICAgY2FjaGVzLm1hdGNoKGV2ZW50LnJlcXVlc3QpLnRoZW4ociA9PiByIHx8IGZldGNoKGV2ZW50LnJlcXVlc3QpKVxuICAgICk7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBwcm9taXNpZnlSZXF1ZXN0KG9iaikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gb25zdWNjZXNzKGV2ZW50KSB7XG4gICAgICByZXNvbHZlKG9iai5yZXN1bHQpO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25lcnJvcihldmVudCkge1xuICAgICAgcmVqZWN0KG9iai5lcnJvcik7XG4gICAgICB1bmxpc3RlbigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bmxpc3RlbigpIHtcbiAgICAgIG9iai5yZW1vdmVFdmVudExpc3RlbmVyKCdjb21wbGV0ZScsIG9uc3VjY2Vzcyk7XG4gICAgICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VjY2VzcycsIG9uc3VjY2Vzcyk7XG4gICAgICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICAgIG9iai5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uZXJyb3IpO1xuICAgIH1cbiAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCBvbnN1Y2Nlc3MpO1xuICAgIG9iai5hZGRFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgb25zdWNjZXNzKTtcbiAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmVycm9yKTtcbiAgfSk7XG59XG5cbmNsYXNzIEluZGV4ZWREb3VjaGViYWcge1xuICBjb25zdHJ1Y3RvcihuYW1lLCB2ZXJzaW9uLCB1cGdyYWRlQ2FsbGJhY2spIHtcbiAgICB2YXIgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKG5hbWUsIHZlcnNpb24pO1xuICAgIHRoaXMucmVhZHkgPSBwcm9taXNpZnlSZXF1ZXN0KHJlcXVlc3QpO1xuICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHVwZ3JhZGVDYWxsYmFjayhyZXF1ZXN0LnJlc3VsdCwgZXZlbnQub2xkVmVyc2lvbik7XG4gICAgfTtcbiAgfVxuXG4gIHRyYW5zYWN0aW9uKHN0b3JlcywgbW9kZU9yQ2FsbGJhY2ssIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkudGhlbihmdW5jdGlvbihkYikge1xuICAgICAgdmFyIG1vZGUgPSAncmVhZG9ubHknO1xuXG4gICAgICBpZiAobW9kZU9yQ2FsbGJhY2suYXBwbHkpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBtb2RlT3JDYWxsYmFjaztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG1vZGVPckNhbGxiYWNrKSB7XG4gICAgICAgIG1vZGUgPSBtb2RlT3JDYWxsYmFjaztcbiAgICAgIH1cblxuICAgICAgdmFyIHR4ID0gZGIudHJhbnNhY3Rpb24oc3RvcmVzLCBtb2RlKTtcbiAgICAgIHZhciB2YWwgPSBjYWxsYmFjayh0eCwgZGIpO1xuICAgICAgdmFyIHByb21pc2UgPSBwcm9taXNpZnlSZXF1ZXN0KHR4KTtcbiAgICAgIHZhciByZWFkUHJvbWlzZTtcblxuICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh2YWxbMF0gJiYgJ3Jlc3VsdCcgaW4gdmFsWzBdKSB7XG4gICAgICAgIHJlYWRQcm9taXNlID0gUHJvbWlzZS5hbGwodmFsLm1hcChwcm9taXNpZnlSZXF1ZXN0KSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVhZFByb21pc2UgPSBwcm9taXNpZnlSZXF1ZXN0KHZhbCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZWFkUHJvbWlzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGdldChzdG9yZSwga2V5KSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNhY3Rpb24oc3RvcmUsIGZ1bmN0aW9uKHR4KSB7XG4gICAgICByZXR1cm4gdHgub2JqZWN0U3RvcmUoc3RvcmUpLmdldChrZXkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHB1dChzdG9yZSwga2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9uKHN0b3JlLCAncmVhZHdyaXRlJywgZnVuY3Rpb24odHgpIHtcbiAgICAgIHR4Lm9iamVjdFN0b3JlKHN0b3JlKS5wdXQodmFsdWUsIGtleSk7XG4gICAgfSk7XG4gIH07XG5cbiAgZGVsZXRlKHN0b3JlLCBrZXkpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2FjdGlvbihzdG9yZSwgJ3JlYWR3cml0ZScsIGZ1bmN0aW9uKHR4KSB7XG4gICAgICB0eC5vYmplY3RTdG9yZShzdG9yZSkuZGVsZXRlKGtleSk7XG4gICAgfSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gSW5kZXhlZERvdWNoZWJhZzsiLCJ2YXIgSWRiID0gcmVxdWlyZSgnLi9pbmRleGVkZG91Y2hiYWcnKTtcbnZhciBpZGI7XG5cbi8vIGF2b2lkIG9wZW5pbmcgaWRiIHVudGlsIGZpcnN0IGNhbGxcbmZ1bmN0aW9uIGdldElkYigpIHtcbiAgaWYgKCFpZGIpIHtcbiAgICBpZGIgPSBuZXcgSWRiKCdzdmdvLWtleXZhbCcsIDEsIGZ1bmN0aW9uKGRiKSB7XG4gICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgna2V5dmFsJyk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGlkYjtcbn1cblxuaWYgKHNlbGYuaW5kZXhlZERCKSB7XG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGdldDoga2V5ID0+IGdldElkYigpLmdldCgna2V5dmFsJywga2V5KSxcbiAgICBzZXQ6IChrZXksIHZhbCkgPT4gZ2V0SWRiKCkucHV0KCdrZXl2YWwnLCBrZXksIHZhbCksXG4gICAgZGVsZXRlOiBrZXkgPT4gZ2V0SWRiKCkuZGVsZXRlKCdrZXl2YWwnLCBrZXkpXG4gIH07XG59XG5lbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZ2V0OiBrZXkgPT4gUHJvbWlzZS5yZXNvbHZlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpLFxuICAgIHNldDogKGtleSwgdmFsKSA9PiBQcm9taXNlLnJlc29sdmUobG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWwpKSxcbiAgICBkZWxldGU6IGtleSA9PiBQcm9taXNlLnJlc29sdmUobG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KSlcbiAgfTtcbn0iXX0="}